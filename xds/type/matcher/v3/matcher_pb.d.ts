// @generated by protoc-gen-es v2.10.0
// @generated from file xds/type/matcher/v3/matcher.proto (package xds.type.matcher.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { TypedExtensionConfig } from "../../../core/v3/extension_pb";
import type { StringMatcher } from "./string_pb";

/**
 * Describes the file xds/type/matcher/v3/matcher.proto.
 */
export declare const file_xds_type_matcher_v3_matcher: GenFile;

/**
 * A matcher, which may traverse a matching tree in order to result in a match action.
 * During matching, the tree will be traversed until a match is found, or if no match
 * is found the action specified by the most specific on_no_match will be evaluated.
 * As an on_no_match might result in another matching tree being evaluated, this process
 * might repeat several times until the final OnMatch (or no match) is decided.
 *
 * @generated from message xds.type.matcher.v3.Matcher
 */
export declare type Matcher = Message<"xds.type.matcher.v3.Matcher"> & {
  /**
   * @generated from oneof xds.type.matcher.v3.Matcher.matcher_type
   */
  matcherType: {
    /**
     * A linear list of matchers to evaluate.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherList matcher_list = 1;
     */
    value: Matcher_MatcherList;
    case: "matcherList";
  } | {
    /**
     * A match tree to evaluate.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherTree matcher_tree = 2;
     */
    value: Matcher_MatcherTree;
    case: "matcherTree";
  } | { case: undefined; value?: undefined };

  /**
   * Optional OnMatch to use if no matcher above matched (e.g., if there are no matchers specified
   * above, or if none of the matches specified above succeeded).
   * If no matcher above matched and this field is not populated, the match will be considered unsuccessful.
   *
   * @generated from field: xds.type.matcher.v3.Matcher.OnMatch on_no_match = 3;
   */
  onNoMatch?: Matcher_OnMatch;
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.
 * Use `create(MatcherSchema)` to create a new message.
 */
export declare const MatcherSchema: GenMessage<Matcher>;

/**
 * What to do if a match is successful.
 *
 * @generated from message xds.type.matcher.v3.Matcher.OnMatch
 */
export declare type Matcher_OnMatch = Message<"xds.type.matcher.v3.Matcher.OnMatch"> & {
  /**
   * @generated from oneof xds.type.matcher.v3.Matcher.OnMatch.on_match
   */
  onMatch: {
    /**
     * Nested matcher to evaluate.
     * If the nested matcher does not match and does not specify
     * on_no_match, then this matcher is considered not to have
     * matched, even if a predicate at this level or above returned
     * true.
     *
     * @generated from field: xds.type.matcher.v3.Matcher matcher = 1;
     */
    value: Matcher;
    case: "matcher";
  } | {
    /**
     * Protocol-specific action to take.
     *
     * @generated from field: xds.core.v3.TypedExtensionConfig action = 2;
     */
    value: TypedExtensionConfig;
    case: "action";
  } | { case: undefined; value?: undefined };

  /**
   * If true and the Matcher matches, the action will be taken but the caller
   * will behave as if the Matcher did not match. A subsequent matcher or
   * on_no_match action will be used instead.
   * This field is not supported in all contexts in which the matcher API is
   * used. If this field is set in a context in which it's not supported,
   * the resource will be rejected.
   *
   * @generated from field: bool keep_matching = 3;
   */
  keepMatching: boolean;
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.OnMatch.
 * Use `create(Matcher_OnMatchSchema)` to create a new message.
 */
export declare const Matcher_OnMatchSchema: GenMessage<Matcher_OnMatch>;

/**
 * A linear list of field matchers.
 * The field matchers are evaluated in order, and the first match
 * wins.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherList
 */
export declare type Matcher_MatcherList = Message<"xds.type.matcher.v3.Matcher.MatcherList"> & {
  /**
   * A list of matchers. First match wins.
   *
   * @generated from field: repeated xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher matchers = 1;
   */
  matchers: Matcher_MatcherList_FieldMatcher[];
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherList.
 * Use `create(Matcher_MatcherListSchema)` to create a new message.
 */
export declare const Matcher_MatcherListSchema: GenMessage<Matcher_MatcherList>;

/**
 * Predicate to determine if a match is successful.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherList.Predicate
 */
export declare type Matcher_MatcherList_Predicate = Message<"xds.type.matcher.v3.Matcher.MatcherList.Predicate"> & {
  /**
   * @generated from oneof xds.type.matcher.v3.Matcher.MatcherList.Predicate.match_type
   */
  matchType: {
    /**
     * A single predicate to evaluate.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate single_predicate = 1;
     */
    value: Matcher_MatcherList_Predicate_SinglePredicate;
    case: "singlePredicate";
  } | {
    /**
     * A list of predicates to be OR-ed together.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList or_matcher = 2;
     */
    value: Matcher_MatcherList_Predicate_PredicateList;
    case: "orMatcher";
  } | {
    /**
     * A list of predicates to be AND-ed together.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList and_matcher = 3;
     */
    value: Matcher_MatcherList_Predicate_PredicateList;
    case: "andMatcher";
  } | {
    /**
     * The invert of a predicate
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherList.Predicate not_matcher = 4;
     */
    value: Matcher_MatcherList_Predicate;
    case: "notMatcher";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherList.Predicate.
 * Use `create(Matcher_MatcherList_PredicateSchema)` to create a new message.
 */
export declare const Matcher_MatcherList_PredicateSchema: GenMessage<Matcher_MatcherList_Predicate>;

/**
 * Predicate for a single input field.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate
 */
export declare type Matcher_MatcherList_Predicate_SinglePredicate = Message<"xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate"> & {
  /**
   * Protocol-specific specification of input field to match on.
   * [#extension-category: envoy.matching.common_inputs]
   *
   * @generated from field: xds.core.v3.TypedExtensionConfig input = 1;
   */
  input?: TypedExtensionConfig;

  /**
   * @generated from oneof xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate.matcher
   */
  matcher: {
    /**
     * Built-in string matcher.
     *
     * @generated from field: xds.type.matcher.v3.StringMatcher value_match = 2;
     */
    value: StringMatcher;
    case: "valueMatch";
  } | {
    /**
     * Extension for custom matching logic.
     * [#extension-category: envoy.matching.input_matchers]
     *
     * @generated from field: xds.core.v3.TypedExtensionConfig custom_match = 3;
     */
    value: TypedExtensionConfig;
    case: "customMatch";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate.
 * Use `create(Matcher_MatcherList_Predicate_SinglePredicateSchema)` to create a new message.
 */
export declare const Matcher_MatcherList_Predicate_SinglePredicateSchema: GenMessage<Matcher_MatcherList_Predicate_SinglePredicate>;

/**
 * A list of two or more matchers. Used to allow using a list within a oneof.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList
 */
export declare type Matcher_MatcherList_Predicate_PredicateList = Message<"xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList"> & {
  /**
   * @generated from field: repeated xds.type.matcher.v3.Matcher.MatcherList.Predicate predicate = 1;
   */
  predicate: Matcher_MatcherList_Predicate[];
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList.
 * Use `create(Matcher_MatcherList_Predicate_PredicateListSchema)` to create a new message.
 */
export declare const Matcher_MatcherList_Predicate_PredicateListSchema: GenMessage<Matcher_MatcherList_Predicate_PredicateList>;

/**
 * An individual matcher.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher
 */
export declare type Matcher_MatcherList_FieldMatcher = Message<"xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher"> & {
  /**
   * Determines if the match succeeds.
   *
   * @generated from field: xds.type.matcher.v3.Matcher.MatcherList.Predicate predicate = 1;
   */
  predicate?: Matcher_MatcherList_Predicate;

  /**
   * What to do if the match succeeds.
   *
   * @generated from field: xds.type.matcher.v3.Matcher.OnMatch on_match = 2;
   */
  onMatch?: Matcher_OnMatch;
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher.
 * Use `create(Matcher_MatcherList_FieldMatcherSchema)` to create a new message.
 */
export declare const Matcher_MatcherList_FieldMatcherSchema: GenMessage<Matcher_MatcherList_FieldMatcher>;

/**
 * @generated from message xds.type.matcher.v3.Matcher.MatcherTree
 */
export declare type Matcher_MatcherTree = Message<"xds.type.matcher.v3.Matcher.MatcherTree"> & {
  /**
   * Protocol-specific specification of input field to match on.
   *
   * @generated from field: xds.core.v3.TypedExtensionConfig input = 1;
   */
  input?: TypedExtensionConfig;

  /**
   * Exact or prefix match maps in which to look up the input value.
   * If the lookup succeeds, the match is considered successful, and
   * the corresponding OnMatch is used.
   *
   * @generated from oneof xds.type.matcher.v3.Matcher.MatcherTree.tree_type
   */
  treeType: {
    /**
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherTree.MatchMap exact_match_map = 2;
     */
    value: Matcher_MatcherTree_MatchMap;
    case: "exactMatchMap";
  } | {
    /**
     * Longest matching prefix wins.
     *
     * @generated from field: xds.type.matcher.v3.Matcher.MatcherTree.MatchMap prefix_match_map = 3;
     */
    value: Matcher_MatcherTree_MatchMap;
    case: "prefixMatchMap";
  } | {
    /**
     * Extension for custom matching logic.
     *
     * @generated from field: xds.core.v3.TypedExtensionConfig custom_match = 4;
     */
    value: TypedExtensionConfig;
    case: "customMatch";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherTree.
 * Use `create(Matcher_MatcherTreeSchema)` to create a new message.
 */
export declare const Matcher_MatcherTreeSchema: GenMessage<Matcher_MatcherTree>;

/**
 * A map of configured matchers. Used to allow using a map within a oneof.
 *
 * @generated from message xds.type.matcher.v3.Matcher.MatcherTree.MatchMap
 */
export declare type Matcher_MatcherTree_MatchMap = Message<"xds.type.matcher.v3.Matcher.MatcherTree.MatchMap"> & {
  /**
   * @generated from field: map<string, xds.type.matcher.v3.Matcher.OnMatch> map = 1;
   */
  map: { [key: string]: Matcher_OnMatch };
};

/**
 * Describes the message xds.type.matcher.v3.Matcher.MatcherTree.MatchMap.
 * Use `create(Matcher_MatcherTree_MatchMapSchema)` to create a new message.
 */
export declare const Matcher_MatcherTree_MatchMapSchema: GenMessage<Matcher_MatcherTree_MatchMap>;

