// @generated by protoc-gen-es v2.10.0
// @generated from file xds/core/v3/resource_locator.proto (package xds.core.v3, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { ContextParams } from "./context_params_pb";

/**
 * Describes the file xds/core/v3/resource_locator.proto.
 */
export declare const file_xds_core_v3_resource_locator: GenFile;

/**
 * xDS resource locators identify a xDS resource name and instruct the
 * data-plane load balancer on how the resource may be located.
 *
 * Resource locators have a canonical xdstp:// URI representation:
 *
 *   xdstp://{authority}/{type_url}/{id}?{context_params}{#directive,*}
 *
 * where context_params take the form of URI query parameters.
 *
 * Resource locators have a similar canonical http:// URI representation:
 *
 *   http://{authority}/{type_url}/{id}?{context_params}{#directive,*}
 *
 * Resource locators also have a simplified file:// URI representation:
 *
 *   file:///{id}{#directive,*}
 *
 *
 * @generated from message xds.core.v3.ResourceLocator
 */
export declare type ResourceLocator = Message<"xds.core.v3.ResourceLocator"> & {
  /**
   * URI scheme.
   *
   * @generated from field: xds.core.v3.ResourceLocator.Scheme scheme = 1;
   */
  scheme: ResourceLocator_Scheme;

  /**
   * Opaque identifier for the resource. Any '/' will not be escaped during URI
   * encoding and will form part of the URI path. This may end
   * with ‘*’ for glob collection references.
   *
   * @generated from field: string id = 2;
   */
  id: string;

  /**
   * Logical authority for resource (not necessarily transport network address).
   * Authorities are opaque in the xDS API, data-plane load balancers will map
   * them to concrete network transports such as an xDS management server, e.g.
   * via envoy.config.core.v3.ConfigSource.
   *
   * @generated from field: string authority = 3;
   */
  authority: string;

  /**
   * Fully qualified resource type (as in type URL without types.googleapis.com/
   * prefix).
   *
   * @generated from field: string resource_type = 4;
   */
  resourceType: string;

  /**
   * @generated from oneof xds.core.v3.ResourceLocator.context_param_specifier
   */
  contextParamSpecifier: {
    /**
     * Additional parameters that can be used to select resource variants.
     * Matches must be exact, i.e. all context parameters must match exactly and
     * there must be no additional context parameters set on the matched
     * resource.
     *
     * @generated from field: xds.core.v3.ContextParams exact_context = 5;
     */
    value: ContextParams;
    case: "exactContext";
  } | { case: undefined; value?: undefined };

  /**
   * A list of directives that appear in the xDS resource locator #fragment.
   *
   * When encoding to URI form, directives are percent encoded with comma
   * separation.
   *
   * @generated from field: repeated xds.core.v3.ResourceLocator.Directive directives = 6;
   */
  directives: ResourceLocator_Directive[];
};

/**
 * Describes the message xds.core.v3.ResourceLocator.
 * Use `create(ResourceLocatorSchema)` to create a new message.
 */
export declare const ResourceLocatorSchema: GenMessage<ResourceLocator>;

/**
 * Directives provide information to data-plane load balancers on how xDS
 * resource names are to be interpreted and potentially further resolved. For
 * example, they may provide alternative resource locators for when primary
 * resolution fails. Directives are not part of resource names and do not
 * appear in a xDS transport discovery request.
 *
 * When encoding to URIs, directives take the form:
 *
 * <directive name>=<string representation of directive value>
 *
 * For example, we can have alt=xdstp://foo/bar or entry=some%20thing. Each
 * directive value type may have its own string encoding, in the case of
 * ResourceLocator there is a recursive URI encoding.
 *
 * Percent encoding applies to the URI encoding of the directive value.
 * Multiple directives are comma-separated, so the reserved characters that
 * require percent encoding in a directive value are [',', '#', '[', ']',
 * '%']. These are the RFC3986 fragment reserved characters with the addition
 * of the xDS scheme specific ','. See
 * https://tools.ietf.org/html/rfc3986#page-49 for further details on URI ABNF
 * and reserved characters.
 *
 * @generated from message xds.core.v3.ResourceLocator.Directive
 */
export declare type ResourceLocator_Directive = Message<"xds.core.v3.ResourceLocator.Directive"> & {
  /**
   * @generated from oneof xds.core.v3.ResourceLocator.Directive.directive
   */
  directive: {
    /**
     * An alternative resource locator for fallback if the resource is
     * unavailable. For example, take the resource locator:
     *
     *   xdstp://foo/some-type/some-route-table#alt=xdstp://bar/some-type/another-route-table
     *
     * If the data-plane load balancer is unable to reach `foo` to fetch the
     * resource, it will fallback to `bar`. Alternative resources do not need
     * to have equivalent content, but they should be functional substitutes.
     *
     * @generated from field: xds.core.v3.ResourceLocator alt = 1;
     */
    value: ResourceLocator;
    case: "alt";
  } | {
    /**
     * List collections support inlining of resources via the entry field in
     * Resource. These inlined Resource objects may have an optional name
     * field specified. When specified, the entry directive allows
     * ResourceLocator to directly reference these inlined resources, e.g.
     * xdstp://.../foo#entry=bar.
     *
     * @generated from field: string entry = 2;
     */
    value: string;
    case: "entry";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message xds.core.v3.ResourceLocator.Directive.
 * Use `create(ResourceLocator_DirectiveSchema)` to create a new message.
 */
export declare const ResourceLocator_DirectiveSchema: GenMessage<ResourceLocator_Directive>;

/**
 * @generated from enum xds.core.v3.ResourceLocator.Scheme
 */
export enum ResourceLocator_Scheme {
  /**
   * @generated from enum value: XDSTP = 0;
   */
  XDSTP = 0,

  /**
   * @generated from enum value: HTTP = 1;
   */
  HTTP = 1,

  /**
   * @generated from enum value: FILE = 2;
   */
  FILE = 2,
}

/**
 * Describes the enum xds.core.v3.ResourceLocator.Scheme.
 */
export declare const ResourceLocator_SchemeSchema: GenEnum<ResourceLocator_Scheme>;

