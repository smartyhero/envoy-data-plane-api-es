// @generated by protoc-gen-es v2.10.0
// @generated from file contrib/envoy/extensions/filters/network/kafka_broker/v3/kafka_broker.proto (package envoy.extensions.filters.network.kafka_broker.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file contrib/envoy/extensions/filters/network/kafka_broker/v3/kafka_broker.proto.
 */
export declare const file_contrib_envoy_extensions_filters_network_kafka_broker_v3_kafka_broker: GenFile;

/**
 * [#protodoc-title: Kafka Broker]
 * Kafka Broker :ref:`configuration overview <config_network_filters_kafka_broker>`.
 * [#extension: envoy.filters.network.kafka_broker]
 * [#next-free-field: 6]
 *
 * @generated from message envoy.extensions.filters.network.kafka_broker.v3.KafkaBroker
 */
export declare type KafkaBroker = Message<"envoy.extensions.filters.network.kafka_broker.v3.KafkaBroker"> & {
  /**
   * The prefix to use when emitting :ref:`statistics <config_network_filters_kafka_broker_stats>`.
   *
   * @generated from field: string stat_prefix = 1;
   */
  statPrefix: string;

  /**
   * Set to true if broker filter should attempt to serialize the received responses from the
   * upstream broker instead of passing received bytes as is.
   * Disabled by default.
   *
   * @generated from field: bool force_response_rewrite = 2;
   */
  forceResponseRewrite: boolean;

  /**
   * Optional broker address rewrite specification.
   * Allows the broker filter to rewrite Kafka responses so that all connections established by
   * the Kafka clients point to Envoy.
   * This allows Kafka cluster not to configure its 'advertised.listeners' property
   * (as the necessary re-pointing will be done by this filter).
   * This collection of rules should cover all brokers in the cluster that is being proxied,
   * otherwise some nodes' addresses might leak to the downstream clients.
   *
   * @generated from oneof envoy.extensions.filters.network.kafka_broker.v3.KafkaBroker.broker_address_rewrite_spec
   */
  brokerAddressRewriteSpec: {
    /**
     * Broker address rewrite rules that match by broker ID.
     *
     * @generated from field: envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteSpec id_based_broker_address_rewrite_spec = 3;
     */
    value: IdBasedBrokerRewriteSpec;
    case: "idBasedBrokerAddressRewriteSpec";
  } | { case: undefined; value?: undefined };

  /**
   * Optional list of allowed Kafka API keys. Only requests with provided API keys will be
   * routed, otherwise the connection will be closed. No effect if empty.
   *
   * @generated from field: repeated uint32 api_keys_allowed = 4;
   */
  apiKeysAllowed: number[];

  /**
   * Optional list of denied Kafka API keys. Requests with API keys matching this list will have
   * the connection closed. No effect if empty.
   *
   * @generated from field: repeated uint32 api_keys_denied = 5;
   */
  apiKeysDenied: number[];
};

/**
 * Describes the message envoy.extensions.filters.network.kafka_broker.v3.KafkaBroker.
 * Use `create(KafkaBrokerSchema)` to create a new message.
 */
export declare const KafkaBrokerSchema: GenMessage<KafkaBroker>;

/**
 * Collection of rules matching by broker ID.
 *
 * @generated from message envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteSpec
 */
export declare type IdBasedBrokerRewriteSpec = Message<"envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteSpec"> & {
  /**
   * @generated from field: repeated envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteRule rules = 1;
   */
  rules: IdBasedBrokerRewriteRule[];
};

/**
 * Describes the message envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteSpec.
 * Use `create(IdBasedBrokerRewriteSpecSchema)` to create a new message.
 */
export declare const IdBasedBrokerRewriteSpecSchema: GenMessage<IdBasedBrokerRewriteSpec>;

/**
 * Defines a rule to rewrite broker address data.
 *
 * @generated from message envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteRule
 */
export declare type IdBasedBrokerRewriteRule = Message<"envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteRule"> & {
  /**
   * Broker ID to match.
   *
   * @generated from field: uint32 id = 1;
   */
  id: number;

  /**
   * The host value to use (resembling the host part of Kafka's advertised.listeners).
   * The value should point to the Envoy (not Kafka) listener, so that all client traffic goes
   * through Envoy.
   *
   * @generated from field: string host = 2;
   */
  host: string;

  /**
   * The port value to use (resembling the port part of Kafka's advertised.listeners).
   * The value should point to the Envoy (not Kafka) listener, so that all client traffic goes
   * through Envoy.
   *
   * @generated from field: uint32 port = 3;
   */
  port: number;
};

/**
 * Describes the message envoy.extensions.filters.network.kafka_broker.v3.IdBasedBrokerRewriteRule.
 * Use `create(IdBasedBrokerRewriteRuleSchema)` to create a new message.
 */
export declare const IdBasedBrokerRewriteRuleSchema: GenMessage<IdBasedBrokerRewriteRule>;

