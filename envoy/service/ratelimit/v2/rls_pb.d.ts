// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/service/ratelimit/v2/rls.proto (package envoy.service.ratelimit.v2, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { RateLimitDescriptor } from "../../../api/v2/ratelimit/ratelimit_pb";
import type { HeaderValue } from "../../../api/v2/core/base_pb";

/**
 * Describes the file envoy/service/ratelimit/v2/rls.proto.
 */
export declare const file_envoy_service_ratelimit_v2_rls: GenFile;

/**
 * Main message for a rate limit request. The rate limit service is designed to be fully generic
 * in the sense that it can operate on arbitrary hierarchical key/value pairs. The loaded
 * configuration will parse the request and find the most specific limit to apply. In addition,
 * a RateLimitRequest can contain multiple "descriptors" to limit on. When multiple descriptors
 * are provided, the server will limit on *ALL* of them and return an OVER_LIMIT response if any
 * of them are over limit. This enables more complex application level rate limiting scenarios
 * if desired.
 *
 * @generated from message envoy.service.ratelimit.v2.RateLimitRequest
 */
export declare type RateLimitRequest = Message<"envoy.service.ratelimit.v2.RateLimitRequest"> & {
  /**
   * All rate limit requests must specify a domain. This enables the configuration to be per
   * application without fear of overlap. E.g., "envoy".
   *
   * @generated from field: string domain = 1;
   */
  domain: string;

  /**
   * All rate limit requests must specify at least one RateLimitDescriptor. Each descriptor is
   * processed by the service (see below). If any of the descriptors are over limit, the entire
   * request is considered to be over limit.
   *
   * @generated from field: repeated envoy.api.v2.ratelimit.RateLimitDescriptor descriptors = 2;
   */
  descriptors: RateLimitDescriptor[];

  /**
   * Rate limit requests can optionally specify the number of hits a request adds to the matched
   * limit. If the value is not set in the message, a request increases the matched limit by 1.
   *
   * @generated from field: uint32 hits_addend = 3;
   */
  hitsAddend: number;
};

/**
 * Describes the message envoy.service.ratelimit.v2.RateLimitRequest.
 * Use `create(RateLimitRequestSchema)` to create a new message.
 */
export declare const RateLimitRequestSchema: GenMessage<RateLimitRequest>;

/**
 * A response from a ShouldRateLimit call.
 *
 * @generated from message envoy.service.ratelimit.v2.RateLimitResponse
 */
export declare type RateLimitResponse = Message<"envoy.service.ratelimit.v2.RateLimitResponse"> & {
  /**
   * The overall response code which takes into account all of the descriptors that were passed
   * in the RateLimitRequest message.
   *
   * @generated from field: envoy.service.ratelimit.v2.RateLimitResponse.Code overall_code = 1;
   */
  overallCode: RateLimitResponse_Code;

  /**
   * A list of DescriptorStatus messages which matches the length of the descriptor list passed
   * in the RateLimitRequest. This can be used by the caller to determine which individual
   * descriptors failed and/or what the currently configured limits are for all of them.
   *
   * @generated from field: repeated envoy.service.ratelimit.v2.RateLimitResponse.DescriptorStatus statuses = 2;
   */
  statuses: RateLimitResponse_DescriptorStatus[];

  /**
   * A list of headers to add to the response
   *
   * @generated from field: repeated envoy.api.v2.core.HeaderValue headers = 3;
   */
  headers: HeaderValue[];

  /**
   * A list of headers to add to the request when forwarded
   *
   * @generated from field: repeated envoy.api.v2.core.HeaderValue request_headers_to_add = 4;
   */
  requestHeadersToAdd: HeaderValue[];
};

/**
 * Describes the message envoy.service.ratelimit.v2.RateLimitResponse.
 * Use `create(RateLimitResponseSchema)` to create a new message.
 */
export declare const RateLimitResponseSchema: GenMessage<RateLimitResponse>;

/**
 * Defines an actual rate limit in terms of requests per unit of time and the unit itself.
 *
 * @generated from message envoy.service.ratelimit.v2.RateLimitResponse.RateLimit
 */
export declare type RateLimitResponse_RateLimit = Message<"envoy.service.ratelimit.v2.RateLimitResponse.RateLimit"> & {
  /**
   * A name or description of this limit.
   *
   * @generated from field: string name = 3;
   */
  name: string;

  /**
   * The number of requests per unit of time.
   *
   * @generated from field: uint32 requests_per_unit = 1;
   */
  requestsPerUnit: number;

  /**
   * The unit of time.
   *
   * @generated from field: envoy.service.ratelimit.v2.RateLimitResponse.RateLimit.Unit unit = 2;
   */
  unit: RateLimitResponse_RateLimit_Unit;
};

/**
 * Describes the message envoy.service.ratelimit.v2.RateLimitResponse.RateLimit.
 * Use `create(RateLimitResponse_RateLimitSchema)` to create a new message.
 */
export declare const RateLimitResponse_RateLimitSchema: GenMessage<RateLimitResponse_RateLimit>;

/**
 * @generated from enum envoy.service.ratelimit.v2.RateLimitResponse.RateLimit.Unit
 */
export enum RateLimitResponse_RateLimit_Unit {
  /**
   * The time unit is not known.
   *
   * @generated from enum value: UNKNOWN = 0;
   */
  UNKNOWN = 0,

  /**
   * The time unit representing a second.
   *
   * @generated from enum value: SECOND = 1;
   */
  SECOND = 1,

  /**
   * The time unit representing a minute.
   *
   * @generated from enum value: MINUTE = 2;
   */
  MINUTE = 2,

  /**
   * The time unit representing an hour.
   *
   * @generated from enum value: HOUR = 3;
   */
  HOUR = 3,

  /**
   * The time unit representing a day.
   *
   * @generated from enum value: DAY = 4;
   */
  DAY = 4,
}

/**
 * Describes the enum envoy.service.ratelimit.v2.RateLimitResponse.RateLimit.Unit.
 */
export declare const RateLimitResponse_RateLimit_UnitSchema: GenEnum<RateLimitResponse_RateLimit_Unit>;

/**
 * @generated from message envoy.service.ratelimit.v2.RateLimitResponse.DescriptorStatus
 */
export declare type RateLimitResponse_DescriptorStatus = Message<"envoy.service.ratelimit.v2.RateLimitResponse.DescriptorStatus"> & {
  /**
   * The response code for an individual descriptor.
   *
   * @generated from field: envoy.service.ratelimit.v2.RateLimitResponse.Code code = 1;
   */
  code: RateLimitResponse_Code;

  /**
   * The current limit as configured by the server. Useful for debugging, etc.
   *
   * @generated from field: envoy.service.ratelimit.v2.RateLimitResponse.RateLimit current_limit = 2;
   */
  currentLimit?: RateLimitResponse_RateLimit;

  /**
   * The limit remaining in the current time unit.
   *
   * @generated from field: uint32 limit_remaining = 3;
   */
  limitRemaining: number;
};

/**
 * Describes the message envoy.service.ratelimit.v2.RateLimitResponse.DescriptorStatus.
 * Use `create(RateLimitResponse_DescriptorStatusSchema)` to create a new message.
 */
export declare const RateLimitResponse_DescriptorStatusSchema: GenMessage<RateLimitResponse_DescriptorStatus>;

/**
 * @generated from enum envoy.service.ratelimit.v2.RateLimitResponse.Code
 */
export enum RateLimitResponse_Code {
  /**
   * The response code is not known.
   *
   * @generated from enum value: UNKNOWN = 0;
   */
  UNKNOWN = 0,

  /**
   * The response code to notify that the number of requests are under limit.
   *
   * @generated from enum value: OK = 1;
   */
  OK = 1,

  /**
   * The response code to notify that the number of requests are over limit.
   *
   * @generated from enum value: OVER_LIMIT = 2;
   */
  OVER_LIMIT = 2,
}

/**
 * Describes the enum envoy.service.ratelimit.v2.RateLimitResponse.Code.
 */
export declare const RateLimitResponse_CodeSchema: GenEnum<RateLimitResponse_Code>;

/**
 * @generated from service envoy.service.ratelimit.v2.RateLimitService
 */
export declare const RateLimitService: GenService<{
  /**
   * Determine whether rate limiting should take place.
   *
   * @generated from rpc envoy.service.ratelimit.v2.RateLimitService.ShouldRateLimit
   */
  shouldRateLimit: {
    methodKind: "unary";
    input: typeof RateLimitRequestSchema;
    output: typeof RateLimitResponseSchema;
  },
}>;

