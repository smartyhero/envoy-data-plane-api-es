// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/service/auth/v3/attribute_context.proto (package envoy.service.auth.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { HeaderMap, Metadata } from "../../../config/core/v3/base_pb";
import type { Address } from "../../../config/core/v3/address_pb";
import type { Timestamp } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file envoy/service/auth/v3/attribute_context.proto.
 */
export declare const file_envoy_service_auth_v3_attribute_context: GenFile;

/**
 * An attribute is a piece of metadata that describes an activity on a network.
 * For example, the size of an HTTP request, or the status code of an HTTP response.
 *
 * Each attribute has a type and a name, which is logically defined as a proto message field
 * of the ``AttributeContext``. The ``AttributeContext`` is a collection of individual attributes
 * supported by Envoy authorization system.
 * [#comment: The following items are left out of this proto
 * Request.Auth field for JWTs
 * Request.Api for api management
 * Origin peer that originated the request
 * Caching Protocol
 * request_context return values to inject back into the filter chain
 * peer.claims -- from X.509 extensions
 * Configuration
 * - field mask to send
 * - which return values from request_context are copied back
 * - which return values are copied into request_headers]
 * [#next-free-field: 14]
 *
 * @generated from message envoy.service.auth.v3.AttributeContext
 */
export declare type AttributeContext = Message<"envoy.service.auth.v3.AttributeContext"> & {
  /**
   * The source of a network activity, such as starting a TCP connection.
   * In a multi hop network activity, the source represents the sender of the
   * last hop.
   *
   * @generated from field: envoy.service.auth.v3.AttributeContext.Peer source = 1;
   */
  source?: AttributeContext_Peer;

  /**
   * The destination of a network activity, such as accepting a TCP connection.
   * In a multi hop network activity, the destination represents the receiver of
   * the last hop.
   *
   * @generated from field: envoy.service.auth.v3.AttributeContext.Peer destination = 2;
   */
  destination?: AttributeContext_Peer;

  /**
   * Represents a network request, such as an HTTP request.
   *
   * @generated from field: envoy.service.auth.v3.AttributeContext.Request request = 4;
   */
  request?: AttributeContext_Request;

  /**
   * This is analogous to http_request.headers, however these contents will not be sent to the
   * upstream server. Context_extensions provide an extension mechanism for sending additional
   * information to the auth server without modifying the proto definition. It maps to the
   * internal opaque context in the filter chain.
   *
   * @generated from field: map<string, string> context_extensions = 10;
   */
  contextExtensions: { [key: string]: string };

  /**
   * Dynamic metadata associated with the request.
   *
   * @generated from field: envoy.config.core.v3.Metadata metadata_context = 11;
   */
  metadataContext?: Metadata;

  /**
   * Metadata associated with the selected route.
   *
   * @generated from field: envoy.config.core.v3.Metadata route_metadata_context = 13;
   */
  routeMetadataContext?: Metadata;

  /**
   * TLS session details of the underlying connection.
   * This is not populated by default and will be populated only if the ext_authz filter has
   * been specifically configured to include this information.
   * For HTTP ext_authz, that requires :ref:`include_tls_session <config_http_filters_ext_authz>`
   * to be set to true.
   * For network ext_authz, that requires :ref:`include_tls_session <config_network_filters_ext_authz>`
   * to be set to true.
   *
   * @generated from field: envoy.service.auth.v3.AttributeContext.TLSSession tls_session = 12;
   */
  tlsSession?: AttributeContext_TLSSession;
};

/**
 * Describes the message envoy.service.auth.v3.AttributeContext.
 * Use `create(AttributeContextSchema)` to create a new message.
 */
export declare const AttributeContextSchema: GenMessage<AttributeContext>;

/**
 * This message defines attributes for a node that handles a network request.
 * The node can be either a service or an application that sends, forwards,
 * or receives the request. Service peers should fill in the ``service``,
 * ``principal``, and ``labels`` as appropriate.
 * [#next-free-field: 6]
 *
 * @generated from message envoy.service.auth.v3.AttributeContext.Peer
 */
export declare type AttributeContext_Peer = Message<"envoy.service.auth.v3.AttributeContext.Peer"> & {
  /**
   * The address of the peer, this is typically the IP address.
   * It can also be UDS path, or others.
   *
   * @generated from field: envoy.config.core.v3.Address address = 1;
   */
  address?: Address;

  /**
   * The canonical service name of the peer.
   * It should be set to :ref:`the HTTP x-envoy-downstream-service-cluster
   * <config_http_conn_man_headers_downstream-service-cluster>`
   * If a more trusted source of the service name is available through mTLS/secure naming, it
   * should be used.
   *
   * @generated from field: string service = 2;
   */
  service: string;

  /**
   * The labels associated with the peer.
   * These could be pod labels for Kubernetes or tags for VMs.
   * The source of the labels could be an X.509 certificate or other configuration.
   *
   * @generated from field: map<string, string> labels = 3;
   */
  labels: { [key: string]: string };

  /**
   * The authenticated identity of this peer.
   * For example, the identity associated with the workload such as a service account.
   * If an X.509 certificate is used to assert the identity this field should be sourced from
   * ``URI Subject Alternative Names``, ``DNS Subject Alternate Names`` or ``Subject`` in that order.
   * The primary identity should be the principal. The principal format is issuer specific.
   *
   * Examples:
   *
   * - SPIFFE format is ``spiffe://trust-domain/path``.
   * - Google account format is ``https://accounts.google.com/{userid}``.
   *
   * @generated from field: string principal = 4;
   */
  principal: string;

  /**
   * The X.509 certificate used to authenticate the identify of this peer.
   * When present, the certificate contents are encoded in URL and PEM format.
   *
   * @generated from field: string certificate = 5;
   */
  certificate: string;
};

/**
 * Describes the message envoy.service.auth.v3.AttributeContext.Peer.
 * Use `create(AttributeContext_PeerSchema)` to create a new message.
 */
export declare const AttributeContext_PeerSchema: GenMessage<AttributeContext_Peer>;

/**
 * Represents a network request, such as an HTTP request.
 *
 * @generated from message envoy.service.auth.v3.AttributeContext.Request
 */
export declare type AttributeContext_Request = Message<"envoy.service.auth.v3.AttributeContext.Request"> & {
  /**
   * The timestamp when the proxy receives the first byte of the request.
   *
   * @generated from field: google.protobuf.Timestamp time = 1;
   */
  time?: Timestamp;

  /**
   * Represents an HTTP request or an HTTP-like request.
   *
   * @generated from field: envoy.service.auth.v3.AttributeContext.HttpRequest http = 2;
   */
  http?: AttributeContext_HttpRequest;
};

/**
 * Describes the message envoy.service.auth.v3.AttributeContext.Request.
 * Use `create(AttributeContext_RequestSchema)` to create a new message.
 */
export declare const AttributeContext_RequestSchema: GenMessage<AttributeContext_Request>;

/**
 * This message defines attributes for an HTTP request.
 * HTTP/1.x, HTTP/2, gRPC are all considered as HTTP requests.
 * [#next-free-field: 14]
 *
 * @generated from message envoy.service.auth.v3.AttributeContext.HttpRequest
 */
export declare type AttributeContext_HttpRequest = Message<"envoy.service.auth.v3.AttributeContext.HttpRequest"> & {
  /**
   * The unique ID for a request, which can be propagated to downstream
   * systems. The ID should have low probability of collision
   * within a single day for a specific service.
   * For HTTP requests, it should be X-Request-ID or equivalent.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * The HTTP request method, such as ``GET``, ``POST``.
   *
   * @generated from field: string method = 2;
   */
  method: string;

  /**
   * The HTTP request headers. If multiple headers share the same key, they
   * must be merged according to the HTTP spec. All header keys must be
   * lower-cased, because HTTP header keys are case-insensitive.
   * Header value is encoded as UTF-8 string. Non-UTF-8 characters will be replaced by "!".
   * This field will not be set if
   * :ref:`encode_raw_headers <envoy_v3_api_field_extensions.filters.http.ext_authz.v3.ExtAuthz.encode_raw_headers>`
   * is set to true.
   *
   * @generated from field: map<string, string> headers = 3;
   */
  headers: { [key: string]: string };

  /**
   * A list of the raw HTTP request headers. This is used instead of
   * :ref:`headers <envoy_v3_api_field_service.auth.v3.AttributeContext.HttpRequest.headers>` when
   * :ref:`encode_raw_headers <envoy_v3_api_field_extensions.filters.http.ext_authz.v3.ExtAuthz.encode_raw_headers>`
   * is set to true.
   *
   * Note that this is not actually a map type. ``header_map`` contains a single repeated field
   * ``headers``.
   *
   * Here, only the ``key`` and ``raw_value`` fields will be populated for each HeaderValue, and
   * that is only when
   * :ref:`encode_raw_headers <envoy_v3_api_field_extensions.filters.http.ext_authz.v3.ExtAuthz.encode_raw_headers>`
   * is set to true.
   *
   * Also, unlike the
   * :ref:`headers <envoy_v3_api_field_service.auth.v3.AttributeContext.HttpRequest.headers>`
   * field, headers with the same key are not combined into a single comma separated header.
   *
   * @generated from field: envoy.config.core.v3.HeaderMap header_map = 13;
   */
  headerMap?: HeaderMap;

  /**
   * The request target, as it appears in the first line of the HTTP request. This includes
   * the URL path and query-string. No decoding is performed.
   *
   * @generated from field: string path = 4;
   */
  path: string;

  /**
   * The HTTP request ``Host`` or ``:authority`` header value.
   *
   * @generated from field: string host = 5;
   */
  host: string;

  /**
   * The HTTP URL scheme, such as ``http`` and ``https``.
   *
   * @generated from field: string scheme = 6;
   */
  scheme: string;

  /**
   * This field is always empty, and exists for compatibility reasons. The HTTP URL query is
   * included in ``path`` field.
   *
   * @generated from field: string query = 7;
   */
  query: string;

  /**
   * This field is always empty, and exists for compatibility reasons. The URL fragment is
   * not submitted as part of HTTP requests; it is unknowable.
   *
   * @generated from field: string fragment = 8;
   */
  fragment: string;

  /**
   * The HTTP request size in bytes. If unknown, it must be -1.
   *
   * @generated from field: int64 size = 9;
   */
  size: bigint;

  /**
   * The network protocol used with the request, such as "HTTP/1.0", "HTTP/1.1", or "HTTP/2".
   *
   * See :repo:`headers.h:ProtocolStrings <source/common/http/headers.h>` for a list of all
   * possible values.
   *
   * @generated from field: string protocol = 10;
   */
  protocol: string;

  /**
   * The HTTP request body.
   *
   * @generated from field: string body = 11;
   */
  body: string;

  /**
   * The HTTP request body in bytes. This is used instead of
   * :ref:`body <envoy_v3_api_field_service.auth.v3.AttributeContext.HttpRequest.body>` when
   * :ref:`pack_as_bytes <envoy_v3_api_field_extensions.filters.http.ext_authz.v3.BufferSettings.pack_as_bytes>`
   * is set to true.
   *
   * @generated from field: bytes raw_body = 12;
   */
  rawBody: Uint8Array;
};

/**
 * Describes the message envoy.service.auth.v3.AttributeContext.HttpRequest.
 * Use `create(AttributeContext_HttpRequestSchema)` to create a new message.
 */
export declare const AttributeContext_HttpRequestSchema: GenMessage<AttributeContext_HttpRequest>;

/**
 * This message defines attributes for the underlying TLS session.
 *
 * @generated from message envoy.service.auth.v3.AttributeContext.TLSSession
 */
export declare type AttributeContext_TLSSession = Message<"envoy.service.auth.v3.AttributeContext.TLSSession"> & {
  /**
   * SNI used for TLS session.
   *
   * @generated from field: string sni = 1;
   */
  sni: string;
};

/**
 * Describes the message envoy.service.auth.v3.AttributeContext.TLSSession.
 * Use `create(AttributeContext_TLSSessionSchema)` to create a new message.
 */
export declare const AttributeContext_TLSSessionSchema: GenMessage<AttributeContext_TLSSession>;

