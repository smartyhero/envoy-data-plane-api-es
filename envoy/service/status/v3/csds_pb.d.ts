// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/service/status/v3/csds.proto (package envoy.service.status.v3, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { NodeMatcher } from "../../../type/matcher/v3/node_pb";
import type { Node } from "../../../config/core/v3/base_pb";
import type { ClientResourceStatus, ClustersConfigDump, EndpointsConfigDump, ListenersConfigDump, RoutesConfigDump, ScopedRoutesConfigDump, UpdateFailureState } from "../../../admin/v3/config_dump_shared_pb";
import type { Any, Timestamp } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file envoy/service/status/v3/csds.proto.
 */
export declare const file_envoy_service_status_v3_csds: GenFile;

/**
 * Request for client status of clients identified by a list of NodeMatchers.
 *
 * @generated from message envoy.service.status.v3.ClientStatusRequest
 */
export declare type ClientStatusRequest = Message<"envoy.service.status.v3.ClientStatusRequest"> & {
  /**
   * Management server can use these match criteria to identify clients.
   * The match follows OR semantics.
   *
   * @generated from field: repeated envoy.type.matcher.v3.NodeMatcher node_matchers = 1;
   */
  nodeMatchers: NodeMatcher[];

  /**
   * The node making the csds request.
   *
   * @generated from field: envoy.config.core.v3.Node node = 2;
   */
  node?: Node;

  /**
   * If true, the server will not include the resource contents in the response
   * (i.e., the generic_xds_configs.xds_config field will not be populated).
   * [#not-implemented-hide:]
   *
   * @generated from field: bool exclude_resource_contents = 3;
   */
  excludeResourceContents: boolean;
};

/**
 * Describes the message envoy.service.status.v3.ClientStatusRequest.
 * Use `create(ClientStatusRequestSchema)` to create a new message.
 */
export declare const ClientStatusRequestSchema: GenMessage<ClientStatusRequest>;

/**
 * Detailed config (per xDS) with status.
 * [#next-free-field: 8]
 *
 * @generated from message envoy.service.status.v3.PerXdsConfig
 */
export declare type PerXdsConfig = Message<"envoy.service.status.v3.PerXdsConfig"> & {
  /**
   * Config status generated by management servers. Will not be present if the
   * CSDS server is an xDS client.
   *
   * @generated from field: envoy.service.status.v3.ConfigStatus status = 1;
   */
  status: ConfigStatus;

  /**
   * Client config status is populated by xDS clients. Will not be present if
   * the CSDS server is an xDS server. No matter what the client config status
   * is, xDS clients should always dump the most recent accepted xDS config.
   *
   * .. attention::
   *   This field is deprecated. Use :ref:`ClientResourceStatus
   *   <envoy_v3_api_enum_admin.v3.ClientResourceStatus>` for per-resource
   *   config status instead.
   *
   * @generated from field: envoy.service.status.v3.ClientConfigStatus client_status = 7 [deprecated = true];
   * @deprecated
   */
  clientStatus: ClientConfigStatus;

  /**
   * @generated from oneof envoy.service.status.v3.PerXdsConfig.per_xds_config
   */
  perXdsConfig: {
    /**
     * @generated from field: envoy.admin.v3.ListenersConfigDump listener_config = 2;
     */
    value: ListenersConfigDump;
    case: "listenerConfig";
  } | {
    /**
     * @generated from field: envoy.admin.v3.ClustersConfigDump cluster_config = 3;
     */
    value: ClustersConfigDump;
    case: "clusterConfig";
  } | {
    /**
     * @generated from field: envoy.admin.v3.RoutesConfigDump route_config = 4;
     */
    value: RoutesConfigDump;
    case: "routeConfig";
  } | {
    /**
     * @generated from field: envoy.admin.v3.ScopedRoutesConfigDump scoped_route_config = 5;
     */
    value: ScopedRoutesConfigDump;
    case: "scopedRouteConfig";
  } | {
    /**
     * @generated from field: envoy.admin.v3.EndpointsConfigDump endpoint_config = 6;
     */
    value: EndpointsConfigDump;
    case: "endpointConfig";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message envoy.service.status.v3.PerXdsConfig.
 * Use `create(PerXdsConfigSchema)` to create a new message.
 */
export declare const PerXdsConfigSchema: GenMessage<PerXdsConfig>;

/**
 * All xds configs for a particular client.
 *
 * @generated from message envoy.service.status.v3.ClientConfig
 */
export declare type ClientConfig = Message<"envoy.service.status.v3.ClientConfig"> & {
  /**
   * Node for a particular client.
   *
   * @generated from field: envoy.config.core.v3.Node node = 1;
   */
  node?: Node;

  /**
   * This field is deprecated in favor of generic_xds_configs which is
   * much simpler and uniform in structure.
   *
   * @generated from field: repeated envoy.service.status.v3.PerXdsConfig xds_config = 2 [deprecated = true];
   * @deprecated
   */
  xdsConfig: PerXdsConfig[];

  /**
   * Represents generic xDS config and the exact config structure depends on
   * the type URL (like Cluster if it is CDS)
   *
   * @generated from field: repeated envoy.service.status.v3.ClientConfig.GenericXdsConfig generic_xds_configs = 3;
   */
  genericXdsConfigs: ClientConfig_GenericXdsConfig[];

  /**
   * For xDS clients, the scope in which the data is used.
   * For example, gRPC indicates the data plane target or that the data is
   * associated with gRPC server(s).
   *
   * @generated from field: string client_scope = 4;
   */
  clientScope: string;
};

/**
 * Describes the message envoy.service.status.v3.ClientConfig.
 * Use `create(ClientConfigSchema)` to create a new message.
 */
export declare const ClientConfigSchema: GenMessage<ClientConfig>;

/**
 * GenericXdsConfig is used to specify the config status and the dump
 * of any xDS resource identified by their type URL. It is the generalized
 * version of the now deprecated ListenersConfigDump, ClustersConfigDump etc
 * [#next-free-field: 10]
 *
 * @generated from message envoy.service.status.v3.ClientConfig.GenericXdsConfig
 */
export declare type ClientConfig_GenericXdsConfig = Message<"envoy.service.status.v3.ClientConfig.GenericXdsConfig"> & {
  /**
   * Type_url represents the fully qualified name of xDS resource type
   * like envoy.v3.Cluster, envoy.v3.ClusterLoadAssignment etc.
   *
   * @generated from field: string type_url = 1;
   */
  typeUrl: string;

  /**
   * Name of the xDS resource
   *
   * @generated from field: string name = 2;
   */
  name: string;

  /**
   * This is the :ref:`version_info <envoy_v3_api_field_service.discovery.v3.DiscoveryResponse.version_info>`
   * in the last processed xDS discovery response. If there are only
   * static bootstrap listeners, this field will be ""
   *
   * @generated from field: string version_info = 3;
   */
  versionInfo: string;

  /**
   * The xDS resource config. Actual content depends on the type
   *
   * @generated from field: google.protobuf.Any xds_config = 4;
   */
  xdsConfig?: Any;

  /**
   * Timestamp when the xDS resource was last updated
   *
   * @generated from field: google.protobuf.Timestamp last_updated = 5;
   */
  lastUpdated?: Timestamp;

  /**
   * Per xDS resource config status. It is generated by management servers.
   * It will not be present if the CSDS server is an xDS client.
   *
   * @generated from field: envoy.service.status.v3.ConfigStatus config_status = 6;
   */
  configStatus: ConfigStatus;

  /**
   * Per xDS resource status from the view of a xDS client
   *
   * @generated from field: envoy.admin.v3.ClientResourceStatus client_status = 7;
   */
  clientStatus: ClientResourceStatus;

  /**
   * Set if the last update failed, cleared after the next successful
   * update. The *error_state* field contains the rejected version of
   * this particular resource along with the reason and timestamp. For
   * successfully updated or acknowledged resource, this field should
   * be empty.
   * [#not-implemented-hide:]
   *
   * @generated from field: envoy.admin.v3.UpdateFailureState error_state = 8;
   */
  errorState?: UpdateFailureState;

  /**
   * Is static resource is true if it is specified in the config supplied
   * through the file at the startup.
   *
   * @generated from field: bool is_static_resource = 9;
   */
  isStaticResource: boolean;
};

/**
 * Describes the message envoy.service.status.v3.ClientConfig.GenericXdsConfig.
 * Use `create(ClientConfig_GenericXdsConfigSchema)` to create a new message.
 */
export declare const ClientConfig_GenericXdsConfigSchema: GenMessage<ClientConfig_GenericXdsConfig>;

/**
 * @generated from message envoy.service.status.v3.ClientStatusResponse
 */
export declare type ClientStatusResponse = Message<"envoy.service.status.v3.ClientStatusResponse"> & {
  /**
   * Client configs for the clients specified in the ClientStatusRequest.
   *
   * @generated from field: repeated envoy.service.status.v3.ClientConfig config = 1;
   */
  config: ClientConfig[];
};

/**
 * Describes the message envoy.service.status.v3.ClientStatusResponse.
 * Use `create(ClientStatusResponseSchema)` to create a new message.
 */
export declare const ClientStatusResponseSchema: GenMessage<ClientStatusResponse>;

/**
 * Status of a config from a management server view.
 *
 * @generated from enum envoy.service.status.v3.ConfigStatus
 */
export enum ConfigStatus {
  /**
   * Status info is not available/unknown.
   *
   * @generated from enum value: UNKNOWN = 0;
   */
  UNKNOWN = 0,

  /**
   * Management server has sent the config to client and received ACK.
   *
   * @generated from enum value: SYNCED = 1;
   */
  SYNCED = 1,

  /**
   * Config is not sent.
   *
   * @generated from enum value: NOT_SENT = 2;
   */
  NOT_SENT = 2,

  /**
   * Management server has sent the config to client but hasnâ€™t received
   * ACK/NACK.
   *
   * @generated from enum value: STALE = 3;
   */
  STALE = 3,

  /**
   * Management server has sent the config to client but received NACK. The
   * attached config dump will be the latest config (the rejected one), since
   * it is the persisted version in the management server.
   *
   * @generated from enum value: ERROR = 4;
   */
  ERROR = 4,
}

/**
 * Describes the enum envoy.service.status.v3.ConfigStatus.
 */
export declare const ConfigStatusSchema: GenEnum<ConfigStatus>;

/**
 * Config status from a client-side view.
 *
 * @generated from enum envoy.service.status.v3.ClientConfigStatus
 */
export enum ClientConfigStatus {
  /**
   * Config status is not available/unknown.
   *
   * @generated from enum value: CLIENT_UNKNOWN = 0;
   */
  CLIENT_UNKNOWN = 0,

  /**
   * Client requested the config but hasn't received any config from management
   * server yet.
   *
   * @generated from enum value: CLIENT_REQUESTED = 1;
   */
  CLIENT_REQUESTED = 1,

  /**
   * Client received the config and replied with ACK.
   *
   * @generated from enum value: CLIENT_ACKED = 2;
   */
  CLIENT_ACKED = 2,

  /**
   * Client received the config and replied with NACK. Notably, the attached
   * config dump is not the NACKed version, but the most recent accepted one. If
   * no config is accepted yet, the attached config dump will be empty.
   *
   * @generated from enum value: CLIENT_NACKED = 3;
   */
  CLIENT_NACKED = 3,

  /**
   * Client received an error from the control plane. The attached config
   * dump is the most recent accepted one. If no config is accepted yet,
   * the attached config dump will be empty.
   *
   * @generated from enum value: CLIENT_RECEIVED_ERROR = 4;
   */
  CLIENT_RECEIVED_ERROR = 4,
}

/**
 * Describes the enum envoy.service.status.v3.ClientConfigStatus.
 */
export declare const ClientConfigStatusSchema: GenEnum<ClientConfigStatus>;

/**
 * CSDS is Client Status Discovery Service. It can be used to get the status of
 * an xDS-compliant client from the management server's point of view. It can
 * also be used to get the current xDS states directly from the client.
 *
 * @generated from service envoy.service.status.v3.ClientStatusDiscoveryService
 */
export declare const ClientStatusDiscoveryService: GenService<{
  /**
   * @generated from rpc envoy.service.status.v3.ClientStatusDiscoveryService.StreamClientStatus
   */
  streamClientStatus: {
    methodKind: "bidi_streaming";
    input: typeof ClientStatusRequestSchema;
    output: typeof ClientStatusResponseSchema;
  },
  /**
   * @generated from rpc envoy.service.status.v3.ClientStatusDiscoveryService.FetchClientStatus
   */
  fetchClientStatus: {
    methodKind: "unary";
    input: typeof ClientStatusRequestSchema;
    output: typeof ClientStatusResponseSchema;
  },
}>;

