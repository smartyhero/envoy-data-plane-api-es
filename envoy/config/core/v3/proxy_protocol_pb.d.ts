// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/config/core/v3/proxy_protocol.proto (package envoy.config.core.v3, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { SubstitutionFormatString } from "./substitution_format_string_pb";

/**
 * Describes the file envoy/config/core/v3/proxy_protocol.proto.
 */
export declare const file_envoy_config_core_v3_proxy_protocol: GenFile;

/**
 * @generated from message envoy.config.core.v3.ProxyProtocolPassThroughTLVs
 */
export declare type ProxyProtocolPassThroughTLVs = Message<"envoy.config.core.v3.ProxyProtocolPassThroughTLVs"> & {
  /**
   * The strategy to pass through TLVs. Default is INCLUDE_ALL.
   * If INCLUDE_ALL is set, all TLVs will be passed through no matter the tlv_type field.
   *
   * @generated from field: envoy.config.core.v3.ProxyProtocolPassThroughTLVs.PassTLVsMatchType match_type = 1;
   */
  matchType: ProxyProtocolPassThroughTLVs_PassTLVsMatchType;

  /**
   * The TLV types that are applied based on match_type.
   * TLV type is defined as uint8_t in proxy protocol. See `the spec
   * <https://www.haproxy.org/download/2.1/doc/proxy-protocol.txt>`_ for details.
   *
   * @generated from field: repeated uint32 tlv_type = 2;
   */
  tlvType: number[];
};

/**
 * Describes the message envoy.config.core.v3.ProxyProtocolPassThroughTLVs.
 * Use `create(ProxyProtocolPassThroughTLVsSchema)` to create a new message.
 */
export declare const ProxyProtocolPassThroughTLVsSchema: GenMessage<ProxyProtocolPassThroughTLVs>;

/**
 * @generated from enum envoy.config.core.v3.ProxyProtocolPassThroughTLVs.PassTLVsMatchType
 */
export enum ProxyProtocolPassThroughTLVs_PassTLVsMatchType {
  /**
   * Pass all TLVs.
   *
   * @generated from enum value: INCLUDE_ALL = 0;
   */
  INCLUDE_ALL = 0,

  /**
   * Pass specific TLVs defined in tlv_type.
   *
   * @generated from enum value: INCLUDE = 1;
   */
  INCLUDE = 1,
}

/**
 * Describes the enum envoy.config.core.v3.ProxyProtocolPassThroughTLVs.PassTLVsMatchType.
 */
export declare const ProxyProtocolPassThroughTLVs_PassTLVsMatchTypeSchema: GenEnum<ProxyProtocolPassThroughTLVs_PassTLVsMatchType>;

/**
 * Represents a single Type-Length-Value (TLV) entry.
 *
 * @generated from message envoy.config.core.v3.TlvEntry
 */
export declare type TlvEntry = Message<"envoy.config.core.v3.TlvEntry"> & {
  /**
   * The type of the TLV. Must be a uint8 (0-255) as per the Proxy Protocol v2 specification.
   *
   * @generated from field: uint32 type = 1;
   */
  type: number;

  /**
   * The static value of the TLV.
   * Only one of ``value`` or ``format_string`` may be set.
   *
   * @generated from field: bytes value = 2;
   */
  value: Uint8Array;

  /**
   * Uses the :ref:`format string <config_access_log_format_strings>` to dynamically
   * populate the TLV value from stream information. This allows dynamic values
   * such as metadata, filter state, or other stream properties to be included in
   * the TLV.
   *
   * For example:
   *
   * .. code-block:: yaml
   *
   *   type: 0xF0
   *   format_string:
   *     text_format_source:
   *       inline_string: "%DYNAMIC_METADATA(envoy.filters.network:key)%"
   *
   * The formatted string will be used directly as the TLV value.
   * Only one of ``value`` or ``format_string`` may be set.
   *
   * @generated from field: envoy.config.core.v3.SubstitutionFormatString format_string = 3;
   */
  formatString?: SubstitutionFormatString;
};

/**
 * Describes the message envoy.config.core.v3.TlvEntry.
 * Use `create(TlvEntrySchema)` to create a new message.
 */
export declare const TlvEntrySchema: GenMessage<TlvEntry>;

/**
 * @generated from message envoy.config.core.v3.ProxyProtocolConfig
 */
export declare type ProxyProtocolConfig = Message<"envoy.config.core.v3.ProxyProtocolConfig"> & {
  /**
   * The PROXY protocol version to use. See https://www.haproxy.org/download/2.1/doc/proxy-protocol.txt for details
   *
   * @generated from field: envoy.config.core.v3.ProxyProtocolConfig.Version version = 1;
   */
  version: ProxyProtocolConfig_Version;

  /**
   * This config controls which TLVs can be passed to upstream if it is Proxy Protocol
   * V2 header. If there is no setting for this field, no TLVs will be passed through.
   *
   * @generated from field: envoy.config.core.v3.ProxyProtocolPassThroughTLVs pass_through_tlvs = 2;
   */
  passThroughTlvs?: ProxyProtocolPassThroughTLVs;

  /**
   * This config allows additional TLVs to be included in the upstream PROXY protocol
   * V2 header. Unlike ``pass_through_tlvs``, which passes TLVs from the downstream request,
   * ``added_tlvs`` provides an extension mechanism for defining new TLVs that are included
   * with the upstream request. These TLVs may not be present in the downstream request and
   * can be defined at either the transport socket level or the host level to provide more
   * granular control over the TLVs that are included in the upstream request.
   *
   * Host-level TLVs are specified in the ``metadata.typed_filter_metadata`` field under the
   * ``envoy.transport_sockets.proxy_protocol`` namespace.
   *
   * .. literalinclude:: /_configs/repo/proxy_protocol.yaml
   *    :language: yaml
   *    :lines: 49-57
   *    :linenos:
   *    :lineno-start: 49
   *    :caption: :download:`proxy_protocol.yaml </_configs/repo/proxy_protocol.yaml>`
   *
   * **Precedence behavior**:
   *
   * - When a TLV is defined at both the host level and the transport socket level, the value
   *   from the host level configuration takes precedence. This allows users to define default TLVs
   *   at the transport socket level and override them at the host level.
   * - Any TLV defined in the ``pass_through_tlvs`` field will be overridden by either the host-level
   *   or transport socket-level TLV.
   *
   * @generated from field: repeated envoy.config.core.v3.TlvEntry added_tlvs = 3;
   */
  addedTlvs: TlvEntry[];
};

/**
 * Describes the message envoy.config.core.v3.ProxyProtocolConfig.
 * Use `create(ProxyProtocolConfigSchema)` to create a new message.
 */
export declare const ProxyProtocolConfigSchema: GenMessage<ProxyProtocolConfig>;

/**
 * @generated from enum envoy.config.core.v3.ProxyProtocolConfig.Version
 */
export enum ProxyProtocolConfig_Version {
  /**
   * PROXY protocol version 1. Human readable format.
   *
   * @generated from enum value: V1 = 0;
   */
  V1 = 0,

  /**
   * PROXY protocol version 2. Binary format.
   *
   * @generated from enum value: V2 = 1;
   */
  V2 = 1,
}

/**
 * Describes the enum envoy.config.core.v3.ProxyProtocolConfig.Version.
 */
export declare const ProxyProtocolConfig_VersionSchema: GenEnum<ProxyProtocolConfig_Version>;

/**
 * @generated from message envoy.config.core.v3.PerHostConfig
 */
export declare type PerHostConfig = Message<"envoy.config.core.v3.PerHostConfig"> & {
  /**
   * Enables per-host configuration for Proxy Protocol.
   *
   * @generated from field: repeated envoy.config.core.v3.TlvEntry added_tlvs = 1;
   */
  addedTlvs: TlvEntry[];
};

/**
 * Describes the message envoy.config.core.v3.PerHostConfig.
 * Use `create(PerHostConfigSchema)` to create a new message.
 */
export declare const PerHostConfigSchema: GenMessage<PerHostConfig>;

