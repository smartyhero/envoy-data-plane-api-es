// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/config/filter/http/rate_limit/v2/rate_limit.proto (package envoy.config.filter.http.rate_limit.v2, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { Duration } from "@bufbuild/protobuf/wkt";
import type { RateLimitServiceConfig } from "../../../../ratelimit/v2/rls_pb";

/**
 * Describes the file envoy/config/filter/http/rate_limit/v2/rate_limit.proto.
 */
export declare const file_envoy_config_filter_http_rate_limit_v2_rate_limit: GenFile;

/**
 * [#next-free-field: 8]
 *
 * @generated from message envoy.config.filter.http.rate_limit.v2.RateLimit
 */
export declare type RateLimit = Message<"envoy.config.filter.http.rate_limit.v2.RateLimit"> & {
  /**
   * The rate limit domain to use when calling the rate limit service.
   *
   * @generated from field: string domain = 1;
   */
  domain: string;

  /**
   * Specifies the rate limit configurations to be applied with the same
   * stage number. If not set, the default stage number is 0.
   *
   * .. note::
   *
   *  The filter supports a range of 0 - 10 inclusively for stage numbers.
   *
   * @generated from field: uint32 stage = 2;
   */
  stage: number;

  /**
   * The type of requests the filter should apply to. The supported
   * types are *internal*, *external* or *both*. A request is considered internal if
   * :ref:`x-envoy-internal<config_http_conn_man_headers_x-envoy-internal>` is set to true. If
   * :ref:`x-envoy-internal<config_http_conn_man_headers_x-envoy-internal>` is not set or false, a
   * request is considered external. The filter defaults to *both*, and it will apply to all request
   * types.
   *
   * @generated from field: string request_type = 3;
   */
  requestType: string;

  /**
   * The timeout in milliseconds for the rate limit service RPC. If not
   * set, this defaults to 20ms.
   *
   * @generated from field: google.protobuf.Duration timeout = 4;
   */
  timeout?: Duration;

  /**
   * The filter's behaviour in case the rate limiting service does
   * not respond back. When it is set to true, Envoy will not allow traffic in case of
   * communication failure between rate limiting service and the proxy.
   * Defaults to false.
   *
   * @generated from field: bool failure_mode_deny = 5;
   */
  failureModeDeny: boolean;

  /**
   * Specifies whether a `RESOURCE_EXHAUSTED` gRPC code must be returned instead
   * of the default `UNAVAILABLE` gRPC code for a rate limited gRPC call. The
   * HTTP code will be 200 for a gRPC response.
   *
   * @generated from field: bool rate_limited_as_resource_exhausted = 6;
   */
  rateLimitedAsResourceExhausted: boolean;

  /**
   * Configuration for an external rate limit service provider. If not
   * specified, any calls to the rate limit service will immediately return
   * success.
   *
   * @generated from field: envoy.config.ratelimit.v2.RateLimitServiceConfig rate_limit_service = 7;
   */
  rateLimitService?: RateLimitServiceConfig;
};

/**
 * Describes the message envoy.config.filter.http.rate_limit.v2.RateLimit.
 * Use `create(RateLimitSchema)` to create a new message.
 */
export declare const RateLimitSchema: GenMessage<RateLimit>;

