// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/extensions/clusters/dns/v3/dns_cluster.proto (package envoy.extensions.clusters.dns.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { Duration } from "@bufbuild/protobuf/wkt";
import type { TypedExtensionConfig } from "../../../../config/core/v3/extension_pb";
import type { DnsLookupFamily } from "../../common/dns/v3/dns_pb";

/**
 * Describes the file envoy/extensions/clusters/dns/v3/dns_cluster.proto.
 */
export declare const file_envoy_extensions_clusters_dns_v3_dns_cluster: GenFile;

/**
 * [#next-free-field: 10]
 *
 * @generated from message envoy.extensions.clusters.dns.v3.DnsCluster
 */
export declare type DnsCluster = Message<"envoy.extensions.clusters.dns.v3.DnsCluster"> & {
  /**
   * This value is the cluster’s DNS refresh rate. The value configured must be at least 1ms.
   * If this setting is not specified, the
   * value defaults to 5000ms.
   *
   * @generated from field: google.protobuf.Duration dns_refresh_rate = 3;
   */
  dnsRefreshRate?: Duration;

  /**
   * This is the cluster’s DNS refresh rate when requests are failing. If this setting is
   * not specified, the failure refresh rate defaults to the DNS refresh rate.
   *
   * @generated from field: envoy.extensions.clusters.dns.v3.DnsCluster.RefreshRate dns_failure_refresh_rate = 4;
   */
  dnsFailureRefreshRate?: DnsCluster_RefreshRate;

  /**
   * Optional configuration for setting cluster's DNS refresh rate. If the value is set to true,
   * cluster's DNS refresh rate will be set to resource record's TTL which comes from DNS
   * resolution.
   *
   * @generated from field: bool respect_dns_ttl = 5;
   */
  respectDnsTtl: boolean;

  /**
   * DNS jitter causes the cluster to refresh DNS entries later by a random amount of time to avoid a
   * stampede of DNS requests. This value sets the upper bound (exclusive) for the random amount.
   * There will be no jitter if this value is omitted.
   *
   * @generated from field: google.protobuf.Duration dns_jitter = 6;
   */
  dnsJitter?: Duration;

  /**
   * DNS resolver type configuration extension. This extension can be used to configure c-ares, apple,
   * or any other DNS resolver types and the related parameters.
   * For example, an object of
   * :ref:`CaresDnsResolverConfig<envoy_v3_api_msg_extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig>`
   * can be packed into this ``typed_dns_resolver_config``. This configuration replaces the
   * :ref:`Cluster.typed_dns_resolver_config<envoy_v3_api_field_config.cluster.v3.Cluster.typed_dns_resolver_config>`
   * configuration which replaces :ref:`Cluster.dns_resolution_config<envoy_v3_api_field_config.cluster.v3.Cluster.dns_resolution_config>`.
   * During the transition period when
   * :ref:`DnsCluster.typed_dns_resolver_config<envoy_v3_api_field_extensions.clusters.dns.v3.DnsCluster.typed_dns_resolver_config>`,
   * :ref:`Cluster.typed_dns_resolver_config<envoy_v3_api_field_config.cluster.v3.Cluster.typed_dns_resolver_config>`,
   * and :ref:`Cluster.dns_resolution_config<envoy_v3_api_field_config.cluster.v3.Cluster.dns_resolution_config>`
   * exist, Envoy will use
   * :ref:`DnsCluster.typed_dns_resolver_config<envoy_v3_api_field_extensions.clusters.dns.v3.DnsCluster.typed_dns_resolver_config>`
   * and ignore
   * DNS resolver-related fields in :ref:`Cluster<envoy_v3_api_msg_config.cluster.v3.Cluster>` if the cluster is configured via the
   * :ref:`Cluster.cluster_type<envoy_v3_api_field_config.cluster.v3.Cluster.cluster_type>` extension point with the
   * :ref:`DnsCluster<envoy_v3_api_msg_extensions.clusters.dns.v3.DnsCluster>` extension type.
   * Otherwise, see  :ref:`Cluster.typed_dns_resolver_config<envoy_v3_api_field_config.cluster.v3.Cluster.typed_dns_resolver_config>`.
   * [#extension-category: envoy.network.dns_resolver]
   *
   * @generated from field: envoy.config.core.v3.TypedExtensionConfig typed_dns_resolver_config = 7;
   */
  typedDnsResolverConfig?: TypedExtensionConfig;

  /**
   * The DNS IP address resolution policy. If this setting is not specified, the
   * value defaults to
   * :ref:`AUTO<envoy_v3_api_enum_value_extensions.clusters.common.dns.v3.DnsLookupFamily.AUTO>`.
   *
   * @generated from field: envoy.extensions.clusters.common.dns.v3.DnsLookupFamily dns_lookup_family = 8;
   */
  dnsLookupFamily: DnsLookupFamily;

  /**
   * If true, all returned addresses are considered to be associated with a single endpoint,
   * which maps to :ref:`logical DNS discovery <arch_overview_service_discovery_types_logical_dns>`
   * semantics. Otherwise, each address is considered to be a separate endpoint, which maps to
   * :ref:`strict DNS discovery <arch_overview_service_discovery_types_strict_dns>` semantics.
   *
   * @generated from field: bool all_addresses_in_single_endpoint = 9;
   */
  allAddressesInSingleEndpoint: boolean;
};

/**
 * Describes the message envoy.extensions.clusters.dns.v3.DnsCluster.
 * Use `create(DnsClusterSchema)` to create a new message.
 */
export declare const DnsClusterSchema: GenMessage<DnsCluster>;

/**
 * @generated from message envoy.extensions.clusters.dns.v3.DnsCluster.RefreshRate
 */
export declare type DnsCluster_RefreshRate = Message<"envoy.extensions.clusters.dns.v3.DnsCluster.RefreshRate"> & {
  /**
   * Specifies the base interval between refreshes. This parameter is required and must be greater
   * than zero and less than
   * :ref:`max_interval <envoy_v3_api_field_extensions.clusters.dns.v3.DnsCluster.RefreshRate.max_interval>`.
   *
   * @generated from field: google.protobuf.Duration base_interval = 1;
   */
  baseInterval?: Duration;

  /**
   * Specifies the maximum interval between refreshes. This parameter is optional, but must be
   * greater than or equal to the
   * :ref:`base_interval <envoy_v3_api_field_extensions.clusters.dns.v3.DnsCluster.RefreshRate.base_interval>`  if set. The default
   * is 10 times the :ref:`base_interval <envoy_v3_api_field_extensions.clusters.dns.v3.DnsCluster.RefreshRate.base_interval>`.
   *
   * @generated from field: google.protobuf.Duration max_interval = 2;
   */
  maxInterval?: Duration;
};

/**
 * Describes the message envoy.extensions.clusters.dns.v3.DnsCluster.RefreshRate.
 * Use `create(DnsCluster_RefreshRateSchema)` to create a new message.
 */
export declare const DnsCluster_RefreshRateSchema: GenMessage<DnsCluster_RefreshRate>;

