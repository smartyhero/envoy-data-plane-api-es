// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/extensions/filters/network/ext_proc/v3/ext_proc.proto (package envoy.extensions.filters.network.ext_proc.v3, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { GrpcService } from "../../../../../config/core/v3/grpc_service_pb";
import type { Duration } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file envoy/extensions/filters/network/ext_proc/v3/ext_proc.proto.
 */
export declare const file_envoy_extensions_filters_network_ext_proc_v3_ext_proc: GenFile;

/**
 * The Network External Processing filter allows an external service to process raw TCP/UDP traffic
 * in a flexible way using a bidirectional gRPC stream. Unlike the HTTP External Processing filter,
 * this filter operates at the L4 (transport) layer, giving access to raw network traffic.
 *
 * The filter communicates with an external gRPC service that can:
 *
 * 1. Inspect traffic in both directions
 * 2. Modify the network traffic
 * 3. Control connection lifecycle (continue, close, or reset)
 *
 * By using the filter's processing mode, you can selectively choose which data
 * directions to process (read, write or both), allowing for efficient processing.
 * [#next-free-field: 7]
 *
 * @generated from message envoy.extensions.filters.network.ext_proc.v3.NetworkExternalProcessor
 */
export declare type NetworkExternalProcessor = Message<"envoy.extensions.filters.network.ext_proc.v3.NetworkExternalProcessor"> & {
  /**
   * The gRPC service that will process network traffic.
   * This service must implement the NetworkExternalProcessor service
   * defined in the proto file /envoy/service/network_ext_proc/v3/external_processor.proto.
   *
   * @generated from field: envoy.config.core.v3.GrpcService grpc_service = 1;
   */
  grpcService?: GrpcService;

  /**
   * By default, if the gRPC stream cannot be established, or if it is closed
   * prematurely with an error, the filter will fail, leading to the close of connection.
   * With this parameter set to true, however, then if the gRPC stream is prematurely closed
   * or could not be opened, processing continues without error.
   *
   * @generated from field: bool failure_mode_allow = 2;
   */
  failureModeAllow: boolean;

  /**
   * Options for controlling processing behavior.
   *
   * @generated from field: envoy.extensions.filters.network.ext_proc.v3.ProcessingMode processing_mode = 3;
   */
  processingMode?: ProcessingMode;

  /**
   * Specifies the timeout for each individual message sent on the stream and
   * when the filter is running in synchronous mode. Whenever
   * the proxy sends a message on the stream that requires a response, it will
   * reset this timer, and will stop processing and return an error (subject
   * to the processing mode) if the timer expires. Default is 200 ms.
   *
   * @generated from field: google.protobuf.Duration message_timeout = 4;
   */
  messageTimeout?: Duration;

  /**
   * @generated from field: string stat_prefix = 5;
   */
  statPrefix: string;

  /**
   * Options related to the sending and receiving of dynamic metadata.
   *
   * @generated from field: envoy.extensions.filters.network.ext_proc.v3.MetadataOptions metadata_options = 6;
   */
  metadataOptions?: MetadataOptions;
};

/**
 * Describes the message envoy.extensions.filters.network.ext_proc.v3.NetworkExternalProcessor.
 * Use `create(NetworkExternalProcessorSchema)` to create a new message.
 */
export declare const NetworkExternalProcessorSchema: GenMessage<NetworkExternalProcessor>;

/**
 * Options for controlling processing behavior.
 * Filter will reject the config if both read and write are SKIP mode.
 *
 * @generated from message envoy.extensions.filters.network.ext_proc.v3.ProcessingMode
 */
export declare type ProcessingMode = Message<"envoy.extensions.filters.network.ext_proc.v3.ProcessingMode"> & {
  /**
   * Controls whether inbound (read) data from the client is sent to the external processor.
   * Default: STREAMED
   *
   * @generated from field: envoy.extensions.filters.network.ext_proc.v3.ProcessingMode.DataSendMode process_read = 1;
   */
  processRead: ProcessingMode_DataSendMode;

  /**
   * Controls whether outbound (write) data to the client is sent to the external processor.
   * Default: STREAMED
   *
   * @generated from field: envoy.extensions.filters.network.ext_proc.v3.ProcessingMode.DataSendMode process_write = 2;
   */
  processWrite: ProcessingMode_DataSendMode;
};

/**
 * Describes the message envoy.extensions.filters.network.ext_proc.v3.ProcessingMode.
 * Use `create(ProcessingModeSchema)` to create a new message.
 */
export declare const ProcessingModeSchema: GenMessage<ProcessingMode>;

/**
 * Defines how traffic should be handled by the external processor.
 *
 * @generated from enum envoy.extensions.filters.network.ext_proc.v3.ProcessingMode.DataSendMode
 */
export enum ProcessingMode_DataSendMode {
  /**
   * Send the data to the external processor for processing whenever the data is ready.
   *
   * @generated from enum value: STREAMED = 0;
   */
  STREAMED = 0,

  /**
   * Skip sending the data to the external processor.
   *
   * @generated from enum value: SKIP = 1;
   */
  SKIP = 1,
}

/**
 * Describes the enum envoy.extensions.filters.network.ext_proc.v3.ProcessingMode.DataSendMode.
 */
export declare const ProcessingMode_DataSendModeSchema: GenEnum<ProcessingMode_DataSendMode>;

/**
 * The MetadataOptions structure defines options for sending dynamic metadata. Specifically,
 * which namespaces to send to the server.
 *
 * @generated from message envoy.extensions.filters.network.ext_proc.v3.MetadataOptions
 */
export declare type MetadataOptions = Message<"envoy.extensions.filters.network.ext_proc.v3.MetadataOptions"> & {
  /**
   * Describes which typed or untyped dynamic metadata namespaces to forward to
   * the external processing server.
   *
   * @generated from field: envoy.extensions.filters.network.ext_proc.v3.MetadataOptions.MetadataNamespaces forwarding_namespaces = 1;
   */
  forwardingNamespaces?: MetadataOptions_MetadataNamespaces;
};

/**
 * Describes the message envoy.extensions.filters.network.ext_proc.v3.MetadataOptions.
 * Use `create(MetadataOptionsSchema)` to create a new message.
 */
export declare const MetadataOptionsSchema: GenMessage<MetadataOptions>;

/**
 * @generated from message envoy.extensions.filters.network.ext_proc.v3.MetadataOptions.MetadataNamespaces
 */
export declare type MetadataOptions_MetadataNamespaces = Message<"envoy.extensions.filters.network.ext_proc.v3.MetadataOptions.MetadataNamespaces"> & {
  /**
   * Specifies a list of metadata namespaces whose values, if present,
   * will be passed to the ext_proc service as an opaque *protobuf::Struct*.
   *
   * @generated from field: repeated string untyped = 1;
   */
  untyped: string[];

  /**
   * Specifies a list of metadata namespaces whose values, if present,
   * will be passed to the ext_proc service as a *protobuf::Any*. This allows
   * envoy and the external processing server to share the protobuf message
   * definition for safe parsing.
   *
   * @generated from field: repeated string typed = 2;
   */
  typed: string[];
};

/**
 * Describes the message envoy.extensions.filters.network.ext_proc.v3.MetadataOptions.MetadataNamespaces.
 * Use `create(MetadataOptions_MetadataNamespacesSchema)` to create a new message.
 */
export declare const MetadataOptions_MetadataNamespacesSchema: GenMessage<MetadataOptions_MetadataNamespaces>;

