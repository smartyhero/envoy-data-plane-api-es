// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/extensions/filters/http/compressor/v3/compressor.proto (package envoy.extensions.filters.http.compressor.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { RuntimeFeatureFlag } from "../../../../../config/core/v3/base_pb";
import type { TypedExtensionConfig } from "../../../../../config/core/v3/extension_pb";

/**
 * Describes the file envoy/extensions/filters/http/compressor/v3/compressor.proto.
 */
export declare const file_envoy_extensions_filters_http_compressor_v3_compressor: GenFile;

/**
 * [#next-free-field: 10]
 *
 * @generated from message envoy.extensions.filters.http.compressor.v3.Compressor
 */
export declare type Compressor = Message<"envoy.extensions.filters.http.compressor.v3.Compressor"> & {
  /**
   * Minimum response length, in bytes, which will trigger compression. The default value is 30.
   *
   * @generated from field: google.protobuf.UInt32Value content_length = 1 [deprecated = true];
   * @deprecated
   */
  contentLength?: number;

  /**
   * Set of strings that allows specifying which mime-types yield compression; e.g.,
   * ``application/json``, ``text/html``, etc.
   *
   * When this field is not specified, compression will be applied to these following mime-types
   * and their synonyms:
   *
   * * ``application/javascript``
   * * ``application/json``
   * * ``application/xhtml+xml``
   * * ``image/svg+xml``
   * * ``text/css``
   * * ``text/html``
   * * ``text/plain``
   * * ``text/xml``
   *
   *
   * @generated from field: repeated string content_type = 2 [deprecated = true];
   * @deprecated
   */
  contentType: string[];

  /**
   * When this field is ``true``, disables compression when the response contains an ``ETag`` header.
   * When this field is ``false``, the filter will preserve weak ``ETag`` values and remove those that
   * require strong validation.
   *
   * @generated from field: bool disable_on_etag_header = 3 [deprecated = true];
   * @deprecated
   */
  disableOnEtagHeader: boolean;

  /**
   * When this field is ``true``, removes ``Accept-Encoding`` from the request headers before dispatching
   * the request to the upstream so that responses do not get compressed before reaching the filter.
   *
   * .. attention::
   *
   *    To avoid interfering with other compression filters in the same chain, use this option in
   *    the filter closest to the upstream.
   *
   * @generated from field: bool remove_accept_encoding_header = 4 [deprecated = true];
   * @deprecated
   */
  removeAcceptEncodingHeader: boolean;

  /**
   * Runtime flag that controls whether the filter is enabled. When this field is ``false``, the
   * filter will operate as a pass-through filter, unless overridden by ``CompressorPerRoute``.
   * If this field is not specified, the filter is enabled by default.
   *
   * @generated from field: envoy.config.core.v3.RuntimeFeatureFlag runtime_enabled = 5 [deprecated = true];
   * @deprecated
   */
  runtimeEnabled?: RuntimeFeatureFlag;

  /**
   * A compressor library to use for compression.
   * [#extension-category: envoy.compression.compressor]
   *
   * @generated from field: envoy.config.core.v3.TypedExtensionConfig compressor_library = 6;
   */
  compressorLibrary?: TypedExtensionConfig;

  /**
   * Configuration for request compression. If this field is not specified, request compression is disabled.
   *
   * @generated from field: envoy.extensions.filters.http.compressor.v3.Compressor.RequestDirectionConfig request_direction_config = 7;
   */
  requestDirectionConfig?: Compressor_RequestDirectionConfig;

  /**
   * Configuration for response compression. If this field is not specified, response compression is enabled.
   *
   * .. attention::
   *
   *    When this field is set, duplicate deprecated fields of the ``Compressor`` message,
   *    such as ``content_length``, ``content_type``, ``disable_on_etag_header``,
   *    ``remove_accept_encoding_header``, and ``runtime_enabled``, are ignored.
   *
   *    Additionally, all statistics related to response compression will be rooted in
   *    ``<stat_prefix>.compressor.<compressor_library.name>.<compressor_library_stat_prefix>.response.*``
   *    instead of
   *    ``<stat_prefix>.compressor.<compressor_library.name>.<compressor_library_stat_prefix>.*``.
   *
   * @generated from field: envoy.extensions.filters.http.compressor.v3.Compressor.ResponseDirectionConfig response_direction_config = 8;
   */
  responseDirectionConfig?: Compressor_ResponseDirectionConfig;

  /**
   * When this field is ``true``, this compressor is preferred when q-values in ``Accept-Encoding`` are equal.
   * If multiple compressor filters set ``choose_first`` to ``true``, the last one in the filter chain is chosen.
   *
   * @generated from field: bool choose_first = 9;
   */
  chooseFirst: boolean;
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.Compressor.
 * Use `create(CompressorSchema)` to create a new message.
 */
export declare const CompressorSchema: GenMessage<Compressor>;

/**
 * @generated from message envoy.extensions.filters.http.compressor.v3.Compressor.CommonDirectionConfig
 */
export declare type Compressor_CommonDirectionConfig = Message<"envoy.extensions.filters.http.compressor.v3.Compressor.CommonDirectionConfig"> & {
  /**
   * Runtime flag that controls whether compression is enabled for the direction this
   * common config is applied to. When this field is ``false``, the filter will operate as a
   * pass-through filter in the chosen direction, unless overridden by ``CompressorPerRoute``.
   * If this field is not specified, the filter will be enabled.
   *
   * @generated from field: envoy.config.core.v3.RuntimeFeatureFlag enabled = 1;
   */
  enabled?: RuntimeFeatureFlag;

  /**
   * Minimum value of the ``Content-Length`` header in request or response messages (depending on the
   * direction this common config is applied to), in bytes, that will trigger compression. Defaults to 30.
   *
   * @generated from field: google.protobuf.UInt32Value min_content_length = 2;
   */
  minContentLength?: number;

  /**
   * Set of strings that allows specifying which mime-types yield compression; e.g.,
   * ``application/json``, ``text/html``, etc.
   *
   * When this field is not specified, compression will be applied to these following mime-types
   * and their synonyms:
   *
   * * ``application/javascript``
   * * ``application/json``
   * * ``application/xhtml+xml``
   * * ``image/svg+xml``
   * * ``text/css``
   * * ``text/html``
   * * ``text/plain``
   * * ``text/xml``
   *
   *
   * @generated from field: repeated string content_type = 3;
   */
  contentType: string[];
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.Compressor.CommonDirectionConfig.
 * Use `create(Compressor_CommonDirectionConfigSchema)` to create a new message.
 */
export declare const Compressor_CommonDirectionConfigSchema: GenMessage<Compressor_CommonDirectionConfig>;

/**
 * Configuration for filter behavior on the request direction.
 *
 * @generated from message envoy.extensions.filters.http.compressor.v3.Compressor.RequestDirectionConfig
 */
export declare type Compressor_RequestDirectionConfig = Message<"envoy.extensions.filters.http.compressor.v3.Compressor.RequestDirectionConfig"> & {
  /**
   * @generated from field: envoy.extensions.filters.http.compressor.v3.Compressor.CommonDirectionConfig common_config = 1;
   */
  commonConfig?: Compressor_CommonDirectionConfig;
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.Compressor.RequestDirectionConfig.
 * Use `create(Compressor_RequestDirectionConfigSchema)` to create a new message.
 */
export declare const Compressor_RequestDirectionConfigSchema: GenMessage<Compressor_RequestDirectionConfig>;

/**
 * Configuration for filter behavior on the response direction.
 * [#next-free-field: 6]
 *
 * @generated from message envoy.extensions.filters.http.compressor.v3.Compressor.ResponseDirectionConfig
 */
export declare type Compressor_ResponseDirectionConfig = Message<"envoy.extensions.filters.http.compressor.v3.Compressor.ResponseDirectionConfig"> & {
  /**
   * @generated from field: envoy.extensions.filters.http.compressor.v3.Compressor.CommonDirectionConfig common_config = 1;
   */
  commonConfig?: Compressor_CommonDirectionConfig;

  /**
   * When this field is ``true``, disables compression when the response contains an ``ETag`` header.
   * When this field is ``false``, the filter will preserve weak ``ETag`` values and remove those that
   * require strong validation.
   *
   * @generated from field: bool disable_on_etag_header = 2;
   */
  disableOnEtagHeader: boolean;

  /**
   * When this field is ``true``, removes ``Accept-Encoding`` from the request headers before dispatching
   * the request to the upstream so that responses do not get compressed before reaching the filter.
   *
   * .. attention::
   *
   *    To avoid interfering with other compression filters in the same chain, use this option in
   *    the filter closest to the upstream.
   *
   * @generated from field: bool remove_accept_encoding_header = 3;
   */
  removeAcceptEncodingHeader: boolean;

  /**
   * Set of response codes for which compression is disabled; e.g., 206 Partial Content should not
   * be compressed.
   *
   * @generated from field: repeated uint32 uncompressible_response_codes = 4;
   */
  uncompressibleResponseCodes: number[];

  /**
   * If true, the filter adds the ``x-envoy-compression-status`` response
   * header to indicate whether the compression occurred and, if not, provide
   * the reason why. The header's value format is
   * ``<encoder-type>;<status>[;<additional-params>]``, where ``<status>`` is
   * ``Compressed`` or the reason compression was skipped (e.g.,
   * ``ContentLengthTooSmall``). When this field is enabled, the compressor
   * filter alters the order of the compression eligibility checks to report
   * the most valid reason for skipping the compression.
   *
   * @generated from field: bool status_header_enabled = 5;
   */
  statusHeaderEnabled: boolean;
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.Compressor.ResponseDirectionConfig.
 * Use `create(Compressor_ResponseDirectionConfigSchema)` to create a new message.
 */
export declare const Compressor_ResponseDirectionConfigSchema: GenMessage<Compressor_ResponseDirectionConfig>;

/**
 * Per-route overrides of ``ResponseDirectionConfig``. Anything added here should be optional,
 * to allow overriding arbitrary subsets of configuration. Omitted fields must have no effect.
 *
 * @generated from message envoy.extensions.filters.http.compressor.v3.ResponseDirectionOverrides
 */
export declare type ResponseDirectionOverrides = Message<"envoy.extensions.filters.http.compressor.v3.ResponseDirectionOverrides"> & {
  /**
   * If set, overrides the filter-level
   * :ref:`remove_accept_encoding_header<envoy_v3_api_field_extensions.filters.http.compressor.v3.Compressor.ResponseDirectionConfig.remove_accept_encoding_header>`.
   *
   * @generated from field: google.protobuf.BoolValue remove_accept_encoding_header = 1;
   */
  removeAcceptEncodingHeader?: boolean;
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.ResponseDirectionOverrides.
 * Use `create(ResponseDirectionOverridesSchema)` to create a new message.
 */
export declare const ResponseDirectionOverridesSchema: GenMessage<ResponseDirectionOverrides>;

/**
 * Per-route overrides. As per-route overrides are needed, they should be
 * added here, mirroring the structure of ``Compressor``. All fields should be
 * optional, to allow overriding arbitrary subsets of configuration.
 *
 * @generated from message envoy.extensions.filters.http.compressor.v3.CompressorOverrides
 */
export declare type CompressorOverrides = Message<"envoy.extensions.filters.http.compressor.v3.CompressorOverrides"> & {
  /**
   * If present, response compression is enabled.
   *
   * @generated from field: envoy.extensions.filters.http.compressor.v3.ResponseDirectionOverrides response_direction_config = 1;
   */
  responseDirectionConfig?: ResponseDirectionOverrides;

  /**
   * A compressor library to use for compression. If specified, this overrides
   * the filter-level ``compressor_library`` configuration for this route.
   *
   * @generated from field: envoy.config.core.v3.TypedExtensionConfig compressor_library = 2;
   */
  compressorLibrary?: TypedExtensionConfig;
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.CompressorOverrides.
 * Use `create(CompressorOverridesSchema)` to create a new message.
 */
export declare const CompressorOverridesSchema: GenMessage<CompressorOverrides>;

/**
 * @generated from message envoy.extensions.filters.http.compressor.v3.CompressorPerRoute
 */
export declare type CompressorPerRoute = Message<"envoy.extensions.filters.http.compressor.v3.CompressorPerRoute"> & {
  /**
   * @generated from oneof envoy.extensions.filters.http.compressor.v3.CompressorPerRoute.override
   */
  override: {
    /**
     * If set, the filter will operate as a pass-through filter.
     * Overrides ``Compressor.runtime_enabled`` and ``CommonDirectionConfig.enabled``.
     *
     * @generated from field: bool disabled = 1;
     */
    value: boolean;
    case: "disabled";
  } | {
    /**
     * Per-route overrides. Fields set here will override corresponding fields in ``Compressor``.
     *
     * @generated from field: envoy.extensions.filters.http.compressor.v3.CompressorOverrides overrides = 2;
     */
    value: CompressorOverrides;
    case: "overrides";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message envoy.extensions.filters.http.compressor.v3.CompressorPerRoute.
 * Use `create(CompressorPerRouteSchema)` to create a new message.
 */
export declare const CompressorPerRouteSchema: GenMessage<CompressorPerRoute>;

