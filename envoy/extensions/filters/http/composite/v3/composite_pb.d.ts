// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/extensions/filters/http/composite/v3/composite.proto (package envoy.extensions.filters.http.composite.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { TypedExtensionConfig } from "../../../../../config/core/v3/extension_pb";
import type { ExtensionConfigSource } from "../../../../../config/core/v3/config_source_pb";
import type { RuntimeFractionalPercent } from "../../../../../config/core/v3/base_pb";

/**
 * Describes the file envoy/extensions/filters/http/composite/v3/composite.proto.
 */
export declare const file_envoy_extensions_filters_http_composite_v3_composite: GenFile;

/**
 * :ref:`Composite filter <config_http_filters_composite>` config. The composite filter config
 * allows delegating filter handling to another filter as determined by matching on the request
 * headers. This makes it possible to use different filters or filter configurations based on the
 * incoming request.
 *
 * This is intended to be used with
 * :ref:`ExtensionWithMatcher <envoy_v3_api_msg_extensions.common.matching.v3.ExtensionWithMatcher>`
 * where a match tree is specified that indicates (via
 * :ref:`ExecuteFilterAction <envoy_v3_api_msg_extensions.filters.http.composite.v3.ExecuteFilterAction>`)
 * which filter configuration to create and delegate to.
 *
 * @generated from message envoy.extensions.filters.http.composite.v3.Composite
 */
export declare type Composite = Message<"envoy.extensions.filters.http.composite.v3.Composite"> & {
};

/**
 * Describes the message envoy.extensions.filters.http.composite.v3.Composite.
 * Use `create(CompositeSchema)` to create a new message.
 */
export declare const CompositeSchema: GenMessage<Composite>;

/**
 * A list of filter configurations to be called in order. Note that this can be used as the type
 * inside of an ECDS :ref:`TypedExtensionConfig
 * <envoy_v3_api_msg_config.core.v3.TypedExtensionConfig>` extension, which allows a chain of
 * filters to be configured dynamically. In that case, the types of all filters in the chain must
 * be present in the :ref:`ExtensionConfigSource.type_urls
 * <envoy_v3_api_field_config.core.v3.ExtensionConfigSource.type_urls>` field.
 *
 * @generated from message envoy.extensions.filters.http.composite.v3.FilterChainConfiguration
 */
export declare type FilterChainConfiguration = Message<"envoy.extensions.filters.http.composite.v3.FilterChainConfiguration"> & {
  /**
   * @generated from field: repeated envoy.config.core.v3.TypedExtensionConfig typed_config = 1;
   */
  typedConfig: TypedExtensionConfig[];
};

/**
 * Describes the message envoy.extensions.filters.http.composite.v3.FilterChainConfiguration.
 * Use `create(FilterChainConfigurationSchema)` to create a new message.
 */
export declare const FilterChainConfigurationSchema: GenMessage<FilterChainConfiguration>;

/**
 * Configuration for an extension configuration discovery service with name.
 *
 * @generated from message envoy.extensions.filters.http.composite.v3.DynamicConfig
 */
export declare type DynamicConfig = Message<"envoy.extensions.filters.http.composite.v3.DynamicConfig"> & {
  /**
   * The name of the extension configuration. It also serves as a resource name in ExtensionConfigDS.
   * The resource type in the ``DiscoveryRequest`` will be :ref:`TypedExtensionConfig
   * <envoy_v3_api_msg_config.core.v3.TypedExtensionConfig>`.
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * Configuration source specifier for an extension configuration discovery
   * service. In case of a failure and without the default configuration,
   * 500(Internal Server Error) will be returned.
   *
   * @generated from field: envoy.config.core.v3.ExtensionConfigSource config_discovery = 2;
   */
  configDiscovery?: ExtensionConfigSource;
};

/**
 * Describes the message envoy.extensions.filters.http.composite.v3.DynamicConfig.
 * Use `create(DynamicConfigSchema)` to create a new message.
 */
export declare const DynamicConfigSchema: GenMessage<DynamicConfig>;

/**
 * Composite match action (see :ref:`matching docs <arch_overview_matching_api>` for more info on match actions).
 * This specifies the filter configuration of the filter that the composite filter should delegate filter interactions to.
 *
 * @generated from message envoy.extensions.filters.http.composite.v3.ExecuteFilterAction
 */
export declare type ExecuteFilterAction = Message<"envoy.extensions.filters.http.composite.v3.ExecuteFilterAction"> & {
  /**
   * Filter specific configuration which depends on the filter being
   * instantiated. See the supported filters for further documentation.
   * Only one of ``typed_config`` or ``dynamic_config`` can be set.
   * Ignored if ``filter_chain`` is set.
   * [#extension-category: envoy.filters.http]
   *
   * @generated from field: envoy.config.core.v3.TypedExtensionConfig typed_config = 1;
   */
  typedConfig?: TypedExtensionConfig;

  /**
   * Dynamic configuration of filter obtained via extension configuration discovery service.
   * Only one of ``typed_config`` or ``dynamic_config`` can be set.
   * Ignored if ``filter_chain`` is set.
   *
   * @generated from field: envoy.extensions.filters.http.composite.v3.DynamicConfig dynamic_config = 2;
   */
  dynamicConfig?: DynamicConfig;

  /**
   * An inlined list of filter configurations. The specified filters will be executed in order.
   * [#not-implemented-hide:]
   *
   * @generated from field: envoy.extensions.filters.http.composite.v3.FilterChainConfiguration filter_chain = 4;
   */
  filterChain?: FilterChainConfiguration;

  /**
   * Probability of the action execution. If not specified, this is 100%.
   * This allows sampling behavior for the configured actions.
   * For example, if
   * :ref:`default_value <envoy_v3_api_field_config.core.v3.RuntimeFractionalPercent.default_value>`
   * under the ``sample_percent`` is configured with 30%, a dice roll with that
   * probability is done. The underline action will only be executed if the
   * dice roll returns positive. Otherwise, the action is skipped.
   *
   * @generated from field: envoy.config.core.v3.RuntimeFractionalPercent sample_percent = 3;
   */
  samplePercent?: RuntimeFractionalPercent;
};

/**
 * Describes the message envoy.extensions.filters.http.composite.v3.ExecuteFilterAction.
 * Use `create(ExecuteFilterActionSchema)` to create a new message.
 */
export declare const ExecuteFilterActionSchema: GenMessage<ExecuteFilterAction>;

