// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto (package envoy.extensions.network.dns_resolver.cares.v3, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { Address } from "../../../../../config/core/v3/address_pb";
import type { DnsResolverOptions } from "../../../../../config/core/v3/resolver_pb";
import type { Duration } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file envoy/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.
 */
export declare const file_envoy_extensions_network_dns_resolver_cares_v3_cares_dns_resolver: GenFile;

/**
 * Configuration for c-ares DNS resolver.
 * [#next-free-field: 11]
 *
 * @generated from message envoy.extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig
 */
export declare type CaresDnsResolverConfig = Message<"envoy.extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig"> & {
  /**
   * A list of DNS resolver addresses.
   * :ref:`use_resolvers_as_fallback <envoy_v3_api_field_extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig.use_resolvers_as_fallback>`
   * below dictates if the DNS client should override system defaults or only use the provided
   * resolvers if the system defaults are not available, i.e., as a fallback.
   *
   * @generated from field: repeated envoy.config.core.v3.Address resolvers = 1;
   */
  resolvers: Address[];

  /**
   * If true use the resolvers listed in the
   * :ref:`resolvers <envoy_v3_api_field_extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig.resolvers>`
   * field only if c-ares is unable to obtain a
   * nameserver from the system (e.g., ``/etc/resolv.conf``).
   * Otherwise, the resolvers listed in the resolvers list will override the default system
   * resolvers. Defaults to false.
   *
   * @generated from field: bool use_resolvers_as_fallback = 3;
   */
  useResolversAsFallback: boolean;

  /**
   * The resolver will query available network interfaces and determine if there are no available
   * interfaces for a given IP family. It will then filter these addresses from the results it
   * presents. e.g., if there are no available IPv4 network interfaces, the resolver will not
   * provide IPv4 addresses.
   *
   * @generated from field: bool filter_unroutable_families = 4;
   */
  filterUnroutableFamilies: boolean;

  /**
   * Configuration of DNS resolver option flags which control the behavior of the DNS resolver.
   *
   * @generated from field: envoy.config.core.v3.DnsResolverOptions dns_resolver_options = 2;
   */
  dnsResolverOptions?: DnsResolverOptions;

  /**
   * This option allows the number of UDP based DNS queries to be capped.
   *
   * .. note::
   *   This is only applicable to c-ares DNS resolver currently.
   *
   *
   * @generated from field: google.protobuf.UInt32Value udp_max_queries = 5;
   */
  udpMaxQueries?: number;

  /**
   * The number of seconds each name server is given to respond to a query on the first try of any given server.
   *
   * .. note::
   *   While the c-ares library defaults to 2 seconds, Envoy's default (if this field is unset) is 5 seconds.
   *   This adjustment was made to maintain the previous behavior after users reported an increase in DNS resolution times.
   *
   *
   * @generated from field: google.protobuf.UInt64Value query_timeout_seconds = 6;
   */
  queryTimeoutSeconds?: bigint;

  /**
   * The maximum number of query attempts the resolver will make before giving up.
   * Each attempt may use a different name server.
   *
   * .. note::
   *   While the c-ares library defaults to 3 attempts, Envoy's default (if this field is unset) is 4 attempts.
   *   This adjustment was made to maintain the previous behavior after users reported an increase in DNS resolution times.
   *
   *
   * @generated from field: google.protobuf.UInt32Value query_tries = 7;
   */
  queryTries?: number;

  /**
   * Enable round-robin selection of name servers for DNS resolution. When enabled, the resolver will cycle through the
   * list of name servers for each resolution request. This can help distribute the query load across multiple name
   * servers. If disabled (default), the resolver will try name servers in the order they are configured.
   *
   * .. note::
   *   This setting overrides any system configuration for name server rotation.
   *
   *
   * @generated from field: bool rotate_nameservers = 8;
   */
  rotateNameservers: boolean;

  /**
   * Maximum EDNS0 UDP payload size in bytes.
   * If set, c-ares will include EDNS0 in DNS queries and use this value as the maximum UDP response size.
   *
   * Recommended values:
   *
   * * **1232**: Safe default (avoids fragmentation).
   * * **4096**: Maximum allowed.
   *
   * If unset, c-ares uses its internal default (usually 1232).
   *
   * @generated from field: google.protobuf.UInt32Value edns0_max_payload_size = 9;
   */
  edns0MaxPayloadSize?: number;

  /**
   * The maximum duration for which a UDP channel will be kept alive before being refreshed.
   *
   * If set, the DNS resolver will periodically reinitialize its c-ares channel after the
   * specified duration. This can help with avoiding stale socket states, and providing
   * better load distribution across UDP ports.
   *
   * If not specified, no periodic refresh will be performed.
   *
   * @generated from field: google.protobuf.Duration max_udp_channel_duration = 10;
   */
  maxUdpChannelDuration?: Duration;
};

/**
 * Describes the message envoy.extensions.network.dns_resolver.cares.v3.CaresDnsResolverConfig.
 * Use `create(CaresDnsResolverConfigSchema)` to create a new message.
 */
export declare const CaresDnsResolverConfigSchema: GenMessage<CaresDnsResolverConfig>;

