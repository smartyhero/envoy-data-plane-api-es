// @generated by protoc-gen-es v2.10.0
// @generated from file envoy/type/v3/ratelimit_strategy.proto (package envoy.type.v3, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { TokenBucket } from "./token_bucket_pb";
import type { RateLimitUnit } from "./ratelimit_unit_pb";

/**
 * Describes the file envoy/type/v3/ratelimit_strategy.proto.
 */
export declare const file_envoy_type_v3_ratelimit_strategy: GenFile;

/**
 * @generated from message envoy.type.v3.RateLimitStrategy
 */
export declare type RateLimitStrategy = Message<"envoy.type.v3.RateLimitStrategy"> & {
  /**
   * @generated from oneof envoy.type.v3.RateLimitStrategy.strategy
   */
  strategy: {
    /**
     * Allow or Deny the requests.
     * If unset, allow all.
     *
     * @generated from field: envoy.type.v3.RateLimitStrategy.BlanketRule blanket_rule = 1;
     */
    value: RateLimitStrategy_BlanketRule;
    case: "blanketRule";
  } | {
    /**
     * Best-effort limit of the number of requests per time unit, f.e. requests per second.
     * Does not prescribe any specific rate limiting algorithm, see :ref:`RequestsPerTimeUnit
     * <envoy_v3_api_msg_type.v3.RateLimitStrategy.RequestsPerTimeUnit>` for details.
     *
     * @generated from field: envoy.type.v3.RateLimitStrategy.RequestsPerTimeUnit requests_per_time_unit = 2;
     */
    value: RateLimitStrategy_RequestsPerTimeUnit;
    case: "requestsPerTimeUnit";
  } | {
    /**
     * Limit the requests by consuming tokens from the Token Bucket.
     * Allow the same number of requests as the number of tokens available in
     * the token bucket.
     *
     * @generated from field: envoy.type.v3.TokenBucket token_bucket = 3;
     */
    value: TokenBucket;
    case: "tokenBucket";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message envoy.type.v3.RateLimitStrategy.
 * Use `create(RateLimitStrategySchema)` to create a new message.
 */
export declare const RateLimitStrategySchema: GenMessage<RateLimitStrategy>;

/**
 * Best-effort limit of the number of requests per time unit.
 *
 * Allows to specify the desired requests per second (RPS, QPS), requests per minute (QPM, RPM),
 * etc., without specifying a rate limiting algorithm implementation.
 *
 * ``RequestsPerTimeUnit`` strategy does not demand any specific rate limiting algorithm to be
 * used (in contrast to the :ref:`TokenBucket <envoy_v3_api_msg_type.v3.TokenBucket>`,
 * for example). It implies that the implementation details of rate limiting algorithm are
 * irrelevant as long as the configured number of "requests per time unit" is achieved.
 *
 * Note that the ``TokenBucket`` is still a valid implementation of the ``RequestsPerTimeUnit``
 * strategy, and may be chosen to enforce the rate limit. However, there's no guarantee it will be
 * the ``TokenBucket`` in particular, and not the Leaky Bucket, the Sliding Window, or any other
 * rate limiting algorithm that fulfills the requirements.
 *
 * @generated from message envoy.type.v3.RateLimitStrategy.RequestsPerTimeUnit
 */
export declare type RateLimitStrategy_RequestsPerTimeUnit = Message<"envoy.type.v3.RateLimitStrategy.RequestsPerTimeUnit"> & {
  /**
   * The desired number of requests per :ref:`time_unit
   * <envoy_v3_api_field_type.v3.RateLimitStrategy.RequestsPerTimeUnit.time_unit>` to allow.
   * If set to ``0``, deny all (equivalent to ``BlanketRule.DENY_ALL``).
   *
   * .. note::
   *   Note that the algorithm implementation determines the course of action for the requests
   *   over the limit. As long as the ``requests_per_time_unit`` converges on the desired value,
   *   it's allowed to treat this field as a soft-limit: allow bursts, redistribute the allowance
   *   over time, etc.
   *
   *
   * @generated from field: uint64 requests_per_time_unit = 1;
   */
  requestsPerTimeUnit: bigint;

  /**
   * The unit of time. Ignored when :ref:`requests_per_time_unit
   * <envoy_v3_api_field_type.v3.RateLimitStrategy.RequestsPerTimeUnit.requests_per_time_unit>`
   * is ``0`` (deny all).
   *
   * @generated from field: envoy.type.v3.RateLimitUnit time_unit = 2;
   */
  timeUnit: RateLimitUnit;
};

/**
 * Describes the message envoy.type.v3.RateLimitStrategy.RequestsPerTimeUnit.
 * Use `create(RateLimitStrategy_RequestsPerTimeUnitSchema)` to create a new message.
 */
export declare const RateLimitStrategy_RequestsPerTimeUnitSchema: GenMessage<RateLimitStrategy_RequestsPerTimeUnit>;

/**
 * Choose between allow all and deny all.
 *
 * @generated from enum envoy.type.v3.RateLimitStrategy.BlanketRule
 */
export enum RateLimitStrategy_BlanketRule {
  /**
   * @generated from enum value: ALLOW_ALL = 0;
   */
  ALLOW_ALL = 0,

  /**
   * @generated from enum value: DENY_ALL = 1;
   */
  DENY_ALL = 1,
}

/**
 * Describes the enum envoy.type.v3.RateLimitStrategy.BlanketRule.
 */
export declare const RateLimitStrategy_BlanketRuleSchema: GenEnum<RateLimitStrategy_BlanketRule>;

